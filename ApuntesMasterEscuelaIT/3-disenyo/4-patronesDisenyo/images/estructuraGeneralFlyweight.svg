<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="673px" preserveAspectRatio="none" style="width:1313px;height:673px;background:#222222;" version="1.1" viewBox="0 0 1313 673" width="1313px" zoomAndPan="magnify"><defs/><g><!--class Scenario--><polygon fill="#222222" points="704.5,8,704.5,8.2102,714.9,7.5857,725.3,8.1933,735.7,8.3997,746.1,7.2866,756.5,7.9223,766.9,7.5735,777.3,7.6165,787.7,7.9318,798.1,7.3086,808.5,8,809.0536,8,807.8697,17.4623,808.3022,26.9246,808.9319,36.3868,808.4142,45.8491,808.5682,55.3114,808.4681,64.7737,808.6785,74.236,808.5,83.6982,808.5,83.9374,798.1,84.2839,787.7,84.3693,777.3,84.3775,766.9,83.9529,756.5,84.1618,746.1,84.4005,735.7,82.9771,725.3,84.3768,714.9,83.4017,704.5,83.6982,705.0338,83.6982,704.005,74.236,704.4315,64.7737,705.2416,55.3114,704.4513,45.8491,704.6053,36.3868,704.8386,26.9246,704.9162,17.4623,704.5,8" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="708.5" y="34.1074">Scenario</text><path d="M705.5,46.1133 L705.5,46.3935 L715.7,45.5609 L725.9,46.371 L736.1,46.6462 L746.3,45.1621 L756.5,46.0097 L766.7,45.5446 L776.9,45.6019 L787.1,46.0224 L797.3,45.1915 L807.5,46.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M705.5,54.1133 L705.5,54.3935 L715.7,53.5609 L725.9,54.371 L736.1,54.6462 L746.3,53.1621 L756.5,54.0097 L766.7,53.5446 L776.9,53.6019 L787.1,54.0224 L797.3,53.1915 L807.5,54.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="718.5166,71.1355,718.0768,71.7363,717.5567,72.6164,716.8128,73.2095,716.0311,73.5338,715.4078,73.562,714.6067,73.1564,713.8509,72.8914,713.2771,72.3534,712.9762,71.7374,712.7977,71.247,712.6229,70.6064,712.3391,70.0552,712.5572,69.5169,712.7482,68.9274,713.4653,68.4611,713.9697,67.8561,714.5941,67.6552,715.3364,67.4821,716.2883,67.5849,716.8097,67.8308,717.4158,67.9423,718.1529,68.6974,718.4098,69.4946,718.5214,70.0385,718.395,70.9348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="54" x="725.5" y="74.1938">main()</text><!--class Director--><polygon fill="#222222" points="769.5,144,769.5,144.2102,779.9,143.5857,790.3,144.1933,800.7,144.3997,811.1,143.2866,821.5,143.9223,831.9,143.5735,842.3,143.6165,852.7,143.9318,863.1,143.3086,873.5,144,874.0536,144,872.8697,154.8227,873.3022,165.6453,873.9319,176.468,873.4142,187.2906,873.5,198.1133,873.5,198.1815,863.1,198.0813,852.7,198.2918,842.3,198.3524,831.9,198.699,821.5,198.7843,811.1,198.7925,800.7,198.3679,790.3,198.5769,779.9,198.8155,769.5,198.1133,768.7788,198.1133,770.1785,187.2906,769.2035,176.468,770.0338,165.6453,769.005,154.8227,769.5,144" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="773.5" y="170.1074">Director</text><path d="M770.5,182.1133 L770.5,182.3935 L780.7,181.5609 L790.9,182.371 L801.1,182.6462 L811.3,181.1621 L821.5,182.0097 L831.7,181.5446 L841.9,181.6019 L852.1,182.0224 L862.3,181.1915 L872.5,182.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M770.5,190.1133 L770.5,190.3935 L780.7,189.5609 L790.9,190.371 L801.1,190.6462 L811.3,189.1621 L821.5,190.0097 L831.7,189.5446 L841.9,189.6019 L852.1,190.0224 L862.3,189.1915 L872.5,190.1133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><!--class FlyWeightFactory--><polygon fill="#222222" points="580.5,330.5,580.5,330.7102,590.5,330.0857,600.5,330.6933,610.5,330.8997,620.5,329.7866,630.5,330.4223,640.5,330.0735,650.5,330.1165,660.5,330.4318,670.5,329.8086,680.5,331.0536,690.5,329.8697,700.5,330.3022,710.5,330.9319,720.5,330.4142,730.5,330.5682,740.5,330.4681,750.5,330.6785,760.5,330.7391,770.5,331.0857,780.5,330.5,781.1711,330.5,781.1793,339.9623,780.7546,349.4246,780.9636,358.8868,781.2022,368.3491,779.7788,377.8114,781.1785,387.2737,780.2035,396.736,780.5,406.1982,780.5,406.7321,770.5,405.7032,760.5,406.1297,750.5,406.9398,740.5,406.1495,730.5,406.3035,720.5,406.5369,710.5,406.6145,700.5,406.1943,690.5,406.4855,680.5,405.6258,670.5,406.4826,660.5,406.7464,650.5,406.6428,640.5,406.8113,630.5,405.7152,620.5,405.5461,610.5,405.5768,600.5,406.1394,590.5,406.0017,580.5,406.1982,581.1814,406.1982,580.3253,396.736,580.1569,387.2737,580.7283,377.8114,579.8332,368.3491,579.9809,358.8868,581.149,349.4246,580.9357,339.9623,580.5,330.5" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="192" x="584.5" y="356.6074">FlyWeightFactory</text><path d="M581.5,368.6133 L581.5,368.8935 L591.4,368.0609 L601.3,368.871 L611.2,369.1462 L621.1,367.6621 L631,368.5097 L640.9,368.0446 L650.8,368.1019 L660.7,368.5224 L670.6,367.6915 L680.5,369.3515 L690.4,367.7729 L700.3,368.3496 L710.2,369.1892 L720.1,368.4989 L730,368.7043 L739.9,368.5707 L749.8,368.8513 L759.7,368.9321 L769.6,369.3942 L779.5,368.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M581.5,376.6133 L581.5,376.8935 L591.4,376.0609 L601.3,376.871 L611.2,377.1462 L621.1,375.6621 L631,376.5097 L640.9,376.0446 L650.8,376.1019 L660.7,376.5224 L670.6,375.6915 L680.5,377.3515 L690.4,375.7729 L700.3,376.3496 L710.2,377.1892 L720.1,376.4989 L730,376.7043 L739.9,376.5707 L749.8,376.8513 L759.7,376.9321 L769.6,377.3942 L779.5,376.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="594.5166,393.6355,594.0768,394.2363,593.5567,395.1164,592.8128,395.7095,592.0311,396.0338,591.4078,396.062,590.6067,395.6564,589.8509,395.3914,589.2771,394.8534,588.9762,394.2374,588.7977,393.747,588.6229,393.1064,588.3391,392.5552,588.5572,392.0169,588.7482,391.4274,589.4653,390.9611,589.9697,390.3561,590.5941,390.1552,591.3364,389.9821,592.2883,390.0849,592.8097,390.3308,593.4158,390.4423,594.1529,391.1974,594.4098,391.9946,594.5214,392.5385,594.395,393.4348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="153" x="601.5" y="396.6938">getFlyWeight(key)</text><path d="M6,258 L6,478.9063 A0,0 0 0 0 6,478.9063 L545,478.9063 A0,0 0 0 0 545,478.9063 L545,372.5 L580.37,368.5 L545,364.5 L545,268 L535,258 L6,258 A0,0 0 0 0 6,258 " fill="#222222" style="stroke: #A9A9A9; stroke-width: 3.0;"/><path d="M535,258 L535.1868,258 L534.6317,260 L535.1718,262 L535.3553,264 L534.3659,266 L535,268 L535,267.9309 L537,267.6209 L539,267.6591 L541,267.9394 L543,267.3854 L545,268 L545.348,268.348 L542.6038,265.6038 L540.8757,263.8757 L539.2715,262.2715 L536.9461,259.9461 L535,258 " fill="#222222" style="stroke: #A9A9A9; stroke-width: 3.0;"/><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="276" x="13" y="284.1074">public getFlyweight() {</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="324" x="37" y="310.2207">if (flyWeight(key) != null)</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="252" x="61" y="336.334">return flyWeight(key)</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="48" x="37" y="362.4473">else</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="468" x="61" y="388.5605">newFlyWeight = new ConcreteFlyWeight();</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="384" x="61" y="414.6738">flyWeightPool.add(newFlyWeight);</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="240" x="61" y="440.7871">return newFlyWeight;</text><text fill="#A9A9A9" font-family="courier" font-size="20" lengthAdjust="spacingAndGlyphs" textLength="12" x="13" y="466.9004">}</text><!--class FlyWeight--><polygon fill="#222222" points="887,330.5,887,330.7102,897.12,330.0857,907.24,330.6933,917.36,330.8997,927.48,329.7866,937.6,330.4223,947.72,330.0735,957.84,330.1165,967.96,330.4318,978.08,329.8086,988.2,331.0536,998.32,329.8697,1008.44,330.3022,1018.56,330.9319,1028.68,330.4142,1038.8,330.5682,1048.92,330.4681,1059.04,330.6785,1069.16,330.7391,1079.28,331.0857,1089.4,331.1711,1099.52,331.1793,1109.64,330.7546,1119.76,330.9636,1129.88,331.2022,1140,330.5,1139.2788,330.5,1140.6785,339.9623,1139.7035,349.4246,1140.5338,358.8868,1139.505,368.3491,1139.9315,377.8114,1140.7416,387.2737,1139.9513,396.736,1140,406.1982,1140,406.3035,1129.88,406.5369,1119.76,406.6145,1109.64,406.1943,1099.52,406.4855,1089.4,405.6258,1079.28,406.4826,1069.16,406.7464,1059.04,406.6428,1048.92,406.8113,1038.8,405.7152,1028.68,405.5461,1018.56,405.5768,1008.44,406.1394,998.32,406.0017,988.2,406.8797,978.08,406.0236,967.96,405.8552,957.84,406.4265,947.72,405.5314,937.6,405.6791,927.48,406.8472,917.36,406.6339,907.24,406.9327,897.12,405.8764,887,406.1982,887.3192,406.1982,887.5904,396.736,886.5276,387.2737,886.9041,377.8114,887.126,368.3491,887.6518,358.8868,886.9958,349.4246,887.4626,339.9623,887,330.5" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="959.5" y="356.6074">FlyWeight</text><path d="M888,368.6133 L888,368.8935 L898.04,368.0609 L908.08,368.871 L918.12,369.1462 L928.16,367.6621 L938.2,368.5097 L948.24,368.0446 L958.28,368.1019 L968.32,368.5224 L978.36,367.6915 L988.4,369.3515 L998.44,367.7729 L1008.48,368.3496 L1018.52,369.1892 L1028.56,368.4989 L1038.6,368.7043 L1048.64,368.5707 L1058.68,368.8513 L1068.72,368.9321 L1078.76,369.3942 L1088.8,369.508 L1098.84,369.519 L1108.88,368.9528 L1118.92,369.2314 L1128.96,369.5496 L1139,368.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><path d="M888,376.6133 L888,376.8935 L898.04,376.0609 L908.08,376.871 L918.12,377.1462 L928.16,375.6621 L938.2,376.5097 L948.24,376.0446 L958.28,376.1019 L968.32,376.5224 L978.36,375.6915 L988.4,377.3515 L998.44,375.7729 L1008.48,376.3496 L1018.52,377.1892 L1028.56,376.4989 L1038.6,376.7043 L1048.64,376.5707 L1058.68,376.8513 L1068.72,376.9321 L1078.76,377.3942 L1088.8,377.508 L1098.84,377.519 L1108.88,376.9528 L1118.92,377.2314 L1128.96,377.5496 L1139,376.6133 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="901.0166,393.6355,900.5768,394.2363,900.0567,395.1164,899.3128,395.7095,898.5311,396.0338,897.9078,396.062,897.1067,395.6564,896.3509,395.3914,895.7771,394.8534,895.4762,394.2374,895.2977,393.747,895.1229,393.1064,894.8391,392.5552,895.0572,392.0169,895.2482,391.4274,895.9653,390.9611,896.4697,390.3561,897.0941,390.1552,897.8364,389.9821,898.7883,390.0849,899.3097,390.3308,899.9158,390.4423,900.6529,391.1974,900.9098,391.9946,901.0214,392.5385,900.895,393.4348" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="908" y="396.6938">operation(extrinsicState)</text><!--class UnshredConcreteFlyWeight--><polygon fill="#222222" points="1049,539,1049,539.2102,1059.12,538.5857,1069.24,539.1933,1079.36,539.3997,1089.48,538.2866,1099.6,538.9223,1109.72,538.5735,1119.84,538.6165,1129.96,538.9318,1140.08,538.3086,1150.2,539.5536,1160.32,538.3697,1170.44,538.8022,1180.56,539.4319,1190.68,538.9142,1200.8,539.0682,1210.92,538.9681,1221.04,539.1785,1231.16,539.2391,1241.28,539.5857,1251.4,539.6711,1261.52,539.6793,1271.64,539.2546,1281.76,539.4636,1291.88,539.7022,1302,539,1301.2788,539,1302.6785,549.283,1301.7035,559.5661,1302.5338,569.8491,1301.505,580.1322,1301.9315,590.4152,1302.7416,600.6982,1301.9513,610.9813,1302.1053,621.2643,1302.3386,631.5474,1302.4162,641.8304,1301.9961,652.1134,1302,662.3965,1302,662.6837,1291.88,661.8241,1281.76,662.6809,1271.64,662.9447,1261.52,662.841,1251.4,663.0095,1241.28,661.9134,1231.16,661.7443,1221.04,661.7751,1210.92,662.3376,1200.8,662.2,1190.68,663.0779,1180.56,662.2218,1170.44,662.0534,1160.32,662.6248,1150.2,661.7296,1140.08,661.8774,1129.96,663.0454,1119.84,662.8322,1109.72,663.131,1099.6,662.0747,1089.48,662.7157,1079.36,662.9869,1069.24,661.9241,1059.12,662.3006,1049,662.3965,1049.126,662.3965,1049.6518,652.1134,1048.9958,641.8304,1049.4626,631.5474,1048.4462,621.2643,1048.3227,610.9813,1049.5036,600.6982,1048.2831,590.4152,1049.509,580.1322,1049.2066,569.8491,1048.7321,559.5661,1048.6462,549.283,1049,539" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="84" x="1133.5" y="565.1074">Unshred</text><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204" x="1073.5" y="591.2207">ConcreteFlyWeight</text><path d="M1050,603.2266 L1050,603.5068 L1060.04,602.6741 L1070.08,603.4843 L1080.12,603.7595 L1090.16,602.2754 L1100.2,603.1229 L1110.24,602.6579 L1120.28,602.7152 L1130.32,603.1357 L1140.36,602.3047 L1150.4,603.9648 L1160.44,602.3862 L1170.48,602.9629 L1180.52,603.8025 L1190.56,603.1122 L1200.6,603.3175 L1210.64,603.184 L1220.68,603.4646 L1230.72,603.5454 L1240.76,604.0075 L1250.8,604.1213 L1260.84,604.1322 L1270.88,603.5661 L1280.92,603.8447 L1290.96,604.1629 L1301,603.2266 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="none" points="1063.0166,620.2488,1062.5768,620.8496,1062.0567,621.7297,1061.3128,622.3228,1060.5311,622.6471,1059.9078,622.6753,1059.1067,622.2696,1058.3509,622.0047,1057.7771,621.4666,1057.4762,620.8507,1057.2977,620.3603,1057.1229,619.7197,1056.8391,619.1684,1057.0572,618.6302,1057.2482,618.0406,1057.9653,617.5744,1058.4697,616.9693,1059.0941,616.7684,1059.8364,616.5954,1060.7883,616.6982,1061.3097,616.9441,1061.9158,617.0555,1062.6529,617.8107,1062.9098,618.6078,1063.0214,619.1518,1062.895,620.0481" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="72" x="1070" y="623.3071">allState</text><path d="M1050,632.8115 L1050,633.0918 L1060.04,632.2591 L1070.08,633.0692 L1080.12,633.3444 L1090.16,631.8603 L1100.2,632.7079 L1110.24,632.2429 L1120.28,632.3002 L1130.32,632.7206 L1140.36,631.8897 L1150.4,633.5497 L1160.44,631.9711 L1170.48,632.5478 L1180.52,633.3875 L1190.56,632.6972 L1200.6,632.9025 L1210.64,632.7689 L1220.68,633.0496 L1230.72,633.1304 L1240.76,633.5924 L1250.8,633.7063 L1260.84,633.7172 L1270.88,633.151 L1280.92,633.4296 L1290.96,633.7478 L1301,632.8115 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="1063.0166,649.8337,1062.5768,650.4346,1062.0567,651.3147,1061.3128,651.9077,1060.5311,652.2321,1059.9078,652.2602,1059.1067,651.8546,1058.3509,651.5896,1057.7771,651.0516,1057.4762,650.4357,1057.2977,649.9452,1057.1229,649.3046,1056.8391,648.7534,1057.0572,648.2152,1057.2482,647.6256,1057.9653,647.1593,1058.4697,646.5543,1059.0941,646.3534,1059.8364,646.1804,1060.7883,646.2832,1061.3097,646.5291,1061.9158,646.6405,1062.6529,647.3956,1062.9098,648.1928,1063.0214,648.7367,1062.895,649.6331" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="1070" y="652.8921">operation(extrinsicState)</text><!--class ConcreteFlyWeight--><polygon fill="#222222" points="743,539,743,539.2102,753.12,538.5857,763.24,539.1933,773.36,539.3997,783.48,538.2866,793.6,538.9223,803.72,538.5735,813.84,538.6165,823.96,538.9318,834.08,538.3086,844.2,539.5536,854.32,538.3697,864.44,538.8022,874.56,539.4319,884.68,538.9142,894.8,539.0682,904.92,538.9681,915.04,539.1785,925.16,539.2391,935.28,539.5857,945.4,539.6711,955.52,539.6793,965.64,539.2546,975.76,539.4636,985.88,539.7022,996,539,995.2788,539,996.6785,549.283,995.7035,559.5661,996.5338,569.8491,995.505,580.1322,995.9315,590.4152,996.7416,600.6982,995.9513,610.9813,996.1053,621.2643,996.3386,631.5474,996.4162,641.8304,995.9961,652.1134,996,662.3965,996,662.6837,985.88,661.8241,975.76,662.6809,965.64,662.9447,955.52,662.841,945.4,663.0095,935.28,661.9134,925.16,661.7443,915.04,661.7751,904.92,662.3376,894.8,662.2,884.68,663.0779,874.56,662.2218,864.44,662.0534,854.32,662.6248,844.2,661.7296,834.08,661.8774,823.96,663.0454,813.84,662.8322,803.72,663.131,793.6,662.0747,783.48,662.7157,773.36,662.9869,763.24,661.9241,753.12,662.3006,743,662.3965,743.126,662.3965,743.6518,652.1134,742.9958,641.8304,743.4626,631.5474,742.4462,621.2643,742.3227,610.9813,743.5036,600.6982,742.2831,590.4152,743.509,580.1322,743.2066,569.8491,742.7321,559.5661,742.6462,549.283,743,539" style="stroke: #FF69B4; stroke-width: 3.0;"/><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="821.5" y="565.1074">Concrete</text><text fill="#FF69B4" font-family="courier" font-size="20" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="815.5" y="591.2207">FlyWeight</text><path d="M744,603.2266 L744,603.5068 L754.04,602.6741 L764.08,603.4843 L774.12,603.7595 L784.16,602.2754 L794.2,603.1229 L804.24,602.6579 L814.28,602.7152 L824.32,603.1357 L834.36,602.3047 L844.4,603.9648 L854.44,602.3862 L864.48,602.9629 L874.52,603.8025 L884.56,603.1122 L894.6,603.3175 L904.64,603.184 L914.68,603.4646 L924.72,603.5454 L934.76,604.0075 L944.8,604.1213 L954.84,604.1322 L964.88,603.5661 L974.92,603.8447 L984.96,604.1629 L995,603.2266 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="none" points="757.0166,620.2488,756.5768,620.8496,756.0567,621.7297,755.3128,622.3228,754.5311,622.6471,753.9078,622.6753,753.1067,622.2696,752.3509,622.0047,751.7771,621.4666,751.4762,620.8507,751.2977,620.3603,751.1229,619.7197,750.8391,619.1684,751.0572,618.6302,751.2482,618.0406,751.9653,617.5744,752.4697,616.9693,753.0941,616.7684,753.8364,616.5954,754.7883,616.6982,755.3097,616.9441,755.9158,617.0555,756.6529,617.8107,756.9098,618.6078,757.0214,619.1518,756.895,620.0481" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="126" x="764" y="623.3071">intrinsicState</text><path d="M744,632.8115 L744,633.0918 L754.04,632.2591 L764.08,633.0692 L774.12,633.3444 L784.16,631.8603 L794.2,632.7079 L804.24,632.2429 L814.28,632.3002 L824.32,632.7206 L834.36,631.8897 L844.4,633.5497 L854.44,631.9711 L864.48,632.5478 L874.52,633.3875 L884.56,632.6972 L894.6,632.9025 L904.64,632.7689 L914.68,633.0496 L924.72,633.1304 L934.76,633.5924 L944.8,633.7063 L954.84,633.7172 L964.88,633.151 L974.92,633.4296 L984.96,633.7478 L995,632.8115 " fill="#222222" style="stroke: #FF69B4; stroke-width: 3.0;"/><polygon fill="#84BE84" points="757.0166,649.8337,756.5768,650.4346,756.0567,651.3147,755.3128,651.9077,754.5311,652.2321,753.9078,652.2602,753.1067,651.8546,752.3509,651.5896,751.7771,651.0516,751.4762,650.4357,751.2977,649.9452,751.1229,649.3046,750.8391,648.7534,751.0572,648.2152,751.2482,647.6256,751.9653,647.1593,752.4697,646.5543,753.0941,646.3534,753.8364,646.1804,754.7883,646.2832,755.3097,646.5291,755.9158,646.6405,756.6529,647.3956,756.9098,648.1928,757.0214,648.7367,756.895,649.6331" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#A9A9A9" font-family="courier" font-size="15" lengthAdjust="spacingAndGlyphs" textLength="225" x="764" y="652.8921">operation(extrinsicState)</text><!--link Scenario to Director--><path d="M776.18,84.24 L776.4278,84.371 L780.5349,93.1452 L786.0945,102.6871 L791.1811,111.979 L794.7124,120.4488 L800.3051,130.0082 L805.24,139.22 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="807.66,143.81,807.7299,143.8149,807.385,141.8354,807.4498,139.8845,807.3813,137.9243,806.8739,135.9335,806.9739,133.9851,806.9492,133.9775,806.5064,135.0251,806.1885,136.111,805.9574,137.2235,805.4272,138.2443,805.316,139.3935,805.3701,139.5699,804.1727,138.861,803.1333,138.6673,802.1131,138.5364,800.9808,138.0398,799.9075,137.7355,799.9216,137.7534,801.4515,138.942,803.0452,140.2122,804.6082,141.443,806.2299,142.7488,807.66,143.81" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Scenario to FlyWeightFactory--><path d="M747.71,84.08 L747.9827,84.1447 L744.8865,93.5917 L743.3888,103.4179 L741.3705,113.1206 L737.6405,122.4173 L736.1792,132.2521 L733.4407,141.784 L731.2105,151.4364 L729.3336,161.1726 L726.2391,170.6201 L725.5683,180.6423 L721.7463,189.9173 L720.0214,199.6896 L718.5524,209.5225 L715.5947,219.0024 L713.5085,228.689 L711.0926,238.2974 L709.0796,248.0013 L706.8722,257.6592 L705.0358,267.405 L702.8606,277.0705 L700.5852,286.7122 L697.7483,296.2207 L695.7334,305.9242 L693.757,315.6369 L690.56,325.06 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="689.33,330.26,689.3857,330.3025,690.4145,328.6099,691.7699,327.1663,693.0189,325.6416,693.9182,323.8503,695.3017,322.4281,695.2881,322.406,694.2639,322.9005,693.3082,323.5061,692.4001,324.1891,691.3279,324.6057,690.4855,325.3954,690.6427,325.4922,689.7132,324.3219,689.2425,323.4343,688.8277,322.5812,688.0874,321.5274,687.5182,320.5792,687.5406,320.5834,687.8701,322.5134,688.3014,324.4625,688.6836,326.4024,689.1595,328.3598,689.33,330.26" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to FlyWeightFactory--><path d="M802.48,198.37 L802.7073,198.5339 L796.2763,206.0275 L791.1778,214.482 L785.6454,222.6236 L778.686,229.7361 L773.6178,238.2125 L767.485,245.9211 L761.7759,253.9353 L756.3613,262.1618 L749.9317,269.6564 L745.5225,278.6081 L738.4865,285.6653 L733.1986,293.9833 L728.124,302.455 L721.8085,310.0319 L716.2194,318.1326 L710.39,326.06 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="#A9A9A9" points="707.4,330.21,707.4354,330.2705,709.0301,329.0956,710.8323,328.2752,712.5669,327.3393,714.0793,326.0239,715.8993,325.2339,715.8952,325.2084,714.7599,325.2767,713.6457,325.4738,712.5463,325.7606,711.3962,325.7386,710.317,326.1491,710.4991,326.1789,709.9266,324.9986,709.8859,323.9055,709.91,322.823,709.5567,321.6786,709.4019,320.5667,709.4241,320.5714,708.9911,322.4932,708.6594,324.4361,708.2788,326.3689,707.9915,328.321,707.4,330.21" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to UnshredConcreteFlyWeight--><path d="M873.79,177.88 L873.8021,177.9726 L877.1328,178.1363 L880.5343,178.843 L883.9128,179.3729 L887.2155,179.3212 L890.6231,180.0745 L890.6183,180.0403 L894.2676,180.397 L897.9408,180.9262 L901.6307,181.5752 L905.2632,181.8111 L908.9761,182.6257 L909.0123,182.8691 L912.8494,182.931 L916.7923,183.7035 L920.7481,184.5627 L924.6288,184.9175 L928.549,185.5375 L928.5537,185.5675 L932.6453,186.1788 L936.7586,186.9264 L940.8614,187.6083 L944.9843,188.4157 L949.0417,188.8139 L949.0925,189.1078 L953.3156,189.8404 L957.506,190.3834 L961.7443,191.2039 L965.9849,192.0374 L970.1543,192.4588 L970.0953,192.1437 L974.4964,193.5586 L978.7031,193.9362 L983.0575,195.1023 L987.2598,195.4564 L991.5868,196.4761 L991.5807,196.4462 L995.9434,197.6777 L1000.1634,198.2123 L1004.4676,199.1581 L1008.7789,200.1385 L1013.0391,200.8698 L1013.0798,201.0502 L1017.2732,201.8229 L1021.5361,202.9039 L1025.6864,203.486 L1030.0046,204.8122 L1034.2113,205.6437 L1034.2705,205.8801 L1038.3776,206.867 L1042.5142,207.9713 L1046.5142,208.5304 L1050.6144,209.4892 L1054.8032,210.802 L1054.7305,210.5356 L1056.7932,211.3216 L1058.774,211.8075 L1060.8737,212.7288 L1062.7705,212.9067 L1064.7878,213.5265 L1064.7453,213.38 L1066.7615,214.1883 L1068.5961,214.3706 L1070.5598,214.9981 L1072.6498,216.0611 L1074.5149,216.3485 L1074.574,216.5329 L1078.3208,217.847 L1081.8839,218.5877 L1085.6771,220.0467 L1089.4202,221.3492 L1093.0464,222.287 L1092.9733,222.0902 L1096.4418,223.514 L1099.8864,224.8734 L1103.378,226.3594 L1106.6868,227.353 L1110.0977,228.6217 L1110.1806,228.8098 L1113.0525,229.7435 L1116.0846,231.0402 L1119.3506,232.8673 L1122.1859,233.7179 L1125.3687,235.3564 L1125.4763,235.5553 L1128.0505,236.8649 L1130.5883,238.1071 L1133.2083,239.5013 L1136.0183,241.2466 L1138.5594,242.4951 L1138.4832,242.386 L1140.8721,244.2201 L1142.743,245.3122 L1145.2027,247.248 L1147.331,248.7088 L1149.3698,250.0416 L1149.446,250.1194 L1151.0106,251.6483 L1152.8478,253.4557 L1154.4387,255.0115 L1155.9266,256.4621 L1157.5,258 L1157.5961,258.0705 L1159.6548,260.9673 L1162.1597,264.1914 L1164.1599,267.0454 L1166.3677,270.0516 L1168.5073,273.0078 L1168.274,272.8711 L1170.2205,276.1063 L1172.4481,279.5062 L1174.2781,282.6731 L1175.9654,285.7565 L1177.8506,288.9557 L1177.7207,288.8954 L1179.3192,292.2648 L1180.6878,295.5274 L1182.6885,299.0838 L1184.3763,302.4947 L1185.6352,305.7063 L1185.855,305.7862 L1187.1917,309.295 L1188.1106,312.6518 L1189.4703,316.169 L1190.5383,319.58 L1191.9664,323.122 L1192.088,323.1558 L1193.0687,326.7401 L1194.1962,330.3651 L1194.858,333.8607 L1195.8954,337.4607 L1196.9496,341.0654 L1197.1427,341.1048 L1197.9447,344.7825 L1198.2225,348.3533 L1199.1094,352.0483 L1200.0069,355.7454 L1200.69,359.3989 L1200.4211,359.3612 L1201.3661,363.1379 L1201.8447,366.8492 L1202.2074,370.5443 L1202.835,374.2766 L1203.2929,377.985 L1203.6157,378.0121 L1203.4685,381.7136 L1204.0608,385.4772 L1204.3619,389.2164 L1204.6009,392.9503 L1204.8638,396.6863 L1204.9263,396.6884 L1205.0429,400.4238 L1204.8441,404.1482 L1205.0721,407.8874 L1205.1739,411.6223 L1205.5077,415.3651 L1205.5361,415.3654 L1205.5114,419.0693 L1205.5086,422.7734 L1205.2719,426.4753 L1205.3357,430.18 L1205.3302,433.8841 L1205.2768,433.8815 L1205.4075,437.541 L1205.162,441.182 L1204.5784,444.8065 L1204.5828,448.4598 L1204.4364,452.1057 L1204.1808,452.084 L1204.2632,455.6738 L1204.104,459.2431 L1203.7748,462.7981 L1203.0398,466.3187 L1202.9317,469.8923 L1203.1365,469.9163 L1202.2018,473.2969 L1202.216,476.7884 L1201.5934,480.2055 L1201.3662,483.6688 L1200.9214,487.1066 L1201.0271,487.1221 L1200.6469,490.4378 L1199.6406,493.6621 L1199.6842,497.0398 L1199.0713,500.3216 L1198.5108,503.611 L1198.6665,503.6379 L1198.2972,506.799 L1197.431,509.8742 L1196.9643,513.0184 L1196.4399,516.1527 L1195.8053,519.268 L1195.8913,519.2849 L1195.2259,522.2023 L1194.957,525.1979 L1193.8022,528.0187 L1193.7355,531.0542 L1192.91,533.94 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="1191.86,538.84,1191.9167,538.8812,1192.9054,537.1648,1194.2265,535.6898,1195.4393,534.1362,1196.2963,532.3242,1197.6459,530.8698,1197.6318,530.8481,1196.6195,531.3665,1195.6783,531.9945,1194.7865,532.6986,1193.7244,533.1403,1192.9008,533.9495,1193.0556,534.05,1192.1087,532.8861,1191.6136,532.0156,1191.1738,531.1809,1190.4131,530.1379,1189.8211,529.2045,1189.8434,529.2092,1190.2185,531.1294,1190.6949,533.071,1191.1224,535.0023,1191.6432,536.9533,1191.86,538.84" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link Director to ConcreteFlyWeight--><path d="M824.43,198.1 L824.7085,198.1313 L824.989,207.9072 L826.902,217.8664 L828.2834,227.7659 L827.9165,237.4692 L829.8667,247.4326 L830.5125,257.2495 L831.6774,267.1247 L833.2032,277.0404 L833.4854,286.8166 L836.243,296.8706 L835.7822,306.5633 L837.4633,316.4965 L839.4056,326.459 L839.8275,336.2508 L841.1395,346.1425 L842.1147,355.9964 L843.5015,365.8966 L844.6898,375.7744 L846.2569,385.6948 L847.478,395.5763 L848.5968,405.4463 L849.1421,415.252 L850.5269,425.1519 L851.9511,435.0562 L851.173,444.7133 L854.1355,454.7903 L853.9515,464.5141 L856.1597,474.5065 L855.9044,484.2222 L857.5775,494.1545 L859.7588,504.1438 L859.8195,513.8951 L861.1316,523.7868 L862.1,533.64 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A9A9A9" points="862.67,538.71,862.7369,538.731,863.1274,536.7891,863.9099,534.9701,864.5648,533.1111,864.8,531.1206,865.6161,529.3121,865.5958,529.296,864.8014,530.1098,864.1092,531.0049,863.4881,531.9563,862.622,532.7133,862.099,533.7427,862.2138,533.8872,861.0823,532.8747,860.2858,532.2842,859.5302,531.7452,858.5368,530.9067,857.6684,530.2256,857.688,530.2372,858.6596,531.9171,859.7203,533.6496,860.738,535.3567,861.8379,537.1123,862.67,538.71" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeightFactory to FlyWeight--><path d="M793.91,368.5 L793.91,368.7802 L804.2111,367.9476 L814.5122,368.7577 L824.8133,369.0329 L835.1144,367.5488 L845.4156,368.3964 L855.7167,367.9313 L866.0178,367.9887 L876.3189,368.4091 L886.62,368.5 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="#222222" points="780.66,368.5,780.6989,368.5583,781.7834,369.1851,783.0957,370.1536,784.3339,371.0109,785.3281,371.5021,786.66,372.5,786.6456,372.4784,787.7811,371.5817,788.9891,370.7936,790.2474,370.0811,791.3322,369.1082,792.66,368.5,792.7624,368.6536,791.3435,367.5252,790.2234,366.8451,789.1399,366.2198,787.8441,365.2762,786.66,364.5,786.6726,364.5189,785.4541,365.2911,784.293,366.1495,783.1042,366.9663,781.9683,367.8624,780.66,368.5" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeight to UnshredConcreteFlyWeight--><path d="M1051.38,423.29 L1051.6091,423.4514 L1056.7498,431.2369 L1063.2336,439.9684 L1069.28,448.3919 L1073.8881,455.8023 L1080.4024,464.5553 L1085.8437,472.5525 L1091.712,480.8506 L1097.8771,489.3577 L1103.0192,497.1442 L1110.1978,506.3651 L1114.7287,513.7211 L1121.0216,522.3182 L1127.5294,531.0666 L1132.88,539 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="none" points="1045.5,427.09,1045.5674,427.1091,1044.2092,422.9763,1043.246,418.9556,1042.1542,414.8984,1040.6393,410.721,1039.71,406.71,1039.6949,406.6889,1043.0753,409.0583,1046.5317,411.534,1050.0408,414.0835,1053.368,416.3785,1056.95,419.03,1057.0562,419.1809,1054.5391,420.4702,1052.3321,422.2001,1050.1629,423.9837,1047.7735,425.4546,1045.5,427.09" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--link FlyWeight to ConcreteFlyWeight--><path d="M979.53,423.76 L979.7675,423.9087 L973.9082,431.6983 L969.4413,440.3596 L964.521,448.7371 L958.1095,456.181 L953.6743,464.8622 L948.1266,472.8468 L943.0216,481.1087 L938.2244,489.5632 L932.3665,497.3537 L928.62,506.466 L922.1284,513.8598 L917.4636,522.3972 L913.0217,531.0742 L907.38,539 " fill="none" style="stroke: #A9A9A9; stroke-width: 2.0;"/><polygon fill="none" points="973.66,419.95,973.7038,420.0047,976.8817,417.1942,980.3163,414.7043,983.6673,412.11,986.7434,409.1724,990.2,406.71,990.1747,406.7043,989.1253,410.8126,988.2033,414.9498,987.3698,419.107,986.2312,423.1951,985.52,427.38,985.618,427.5364,983.0365,425.716,980.741,424.3521,978.4804,423.044,976.0168,421.4118,973.66,419.95" style="stroke: #A9A9A9; stroke-width: 2.0;"/><!--
@startuml
skinparam backgroundColor #222222
skinparam handwritten true
hide circle

skinparam shadowing false
skinparam padding 1
skinparam arrow {
    Thickness 2
    Color #DarkGrey
    FontSize 20
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}
skinparam class {
    BorderThickness 3
    BorderColor #ff69b4
    BackgroundColor #222222
    FontSize 20
    FontName courier
    FontStyle bold
    FontColor #ff69b4
}
skinparam classAttribute {
    FontSize 15
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}
skinparam note {
    BorderThickness 3
    BorderColor #DarkGrey
    BackgroundColor #222222
    FontSize 20
    FontName courier
    FontStyle normal
    FontColor #DarkGrey
}

class Scenario  {
+ main()
}
class Director
class FlyWeightFactory  {
+ getFlyWeight(key)
}
note left
public getFlyweight() {
  if (flyWeight(key) != null)
    return flyWeight(key)
  else
    newFlyWeight = new ConcreteFlyWeight();
    flyWeightPool.add(newFlyWeight);
    return newFlyWeight;
}
end note
class FlyWeight  {
+ operation(extrinsicState)
}
class "Unshred\nConcreteFlyWeight"  as UnshredConcreteFlyWeight {
+ allState
+ operation(extrinsicState)
}
class "Concrete\nFlyWeight" as ConcreteFlyWeight {
+ intrinsicState
+ operation(extrinsicState)
}


Scenario .down.> Director
Scenario .down.> FlyWeightFactory
Director -down-> FlyWeightFactory
Director .down.> UnshredConcreteFlyWeight
Director .down.> ConcreteFlyWeight
FlyWeightFactory o-right- FlyWeight
FlyWeight <|-down- UnshredConcreteFlyWeight
FlyWeight <|-down- ConcreteFlyWeight
@enduml

PlantUML version 1.2019.05(Sat Apr 20 18:45:36 CEST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 11.0.14+8-LTS-263
Operating System: Windows 10
OS Version: 10.0
Default Encoding: windows-1252
Language: es
Country: ES
--></g></svg>