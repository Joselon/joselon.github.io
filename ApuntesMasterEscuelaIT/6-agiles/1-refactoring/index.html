<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8">
<meta name="author" content="Universo Santa Tecla">
<title>Refactoring</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book">
<div id="header">
<h1>Refactoring</h1>
<div class="details">
<span id="author" class="author">Universo Santa Tecla</span><br>
<span id="email" class="email"><a href="mailto:universoSantaTecla@gmail.com">universoSantaTecla@gmail.com</a></span><br>
<span id="revnumber">version 0.0.1</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Índice</div>
<ul class="sectlevel1">
<li><a href="#por-qué"><strong>¿Por qué?</strong></a></li>
<li><a href="#qué"><strong>¿Qué?</strong></a></li>
<li><a href="#para-qué"><strong>¿Para qué?</strong></a></li>
<li><a href="#cómo"><strong>¿Cómo?</strong></a></li>
<li><a href="#bucle-de-refactoring">Bucle de Refactoring</a></li>
<li><a href="#invariante-del-refactoring">Invariante del Refactoring</a></li>
<li><a href="#condición-del-refactoring">Condición del Refactoring</a></li>
<li><a href="#cuerpo-del-refactoring">Cuerpo del Refactoring</a>
<ul class="sectlevel2">
<li><a href="#catálogo-de-refactorizaciones">Catálogo de Refactorizaciones</a></li>
</ul>
</li>
<li><a href="#granularidad-del-refactoring">Granularidad del Refactoring</a></li>
<li><a href="#ejemplo-movies">Ejemplo movies</a>
<ul class="sectlevel2">
<li><a href="#versión-1">Versión 1.</a></li>
<li><a href="#versión-2">Versión 2.</a></li>
<li><a href="#versión-3">Versión 3.</a></li>
<li><a href="#versión-4">Versión 4.</a></li>
<li><a href="#versión-5">Versión 5.</a></li>
<li><a href="#versión-6">Versión 6.</a></li>
<li><a href="#versión-7">Versión 7.</a></li>
<li><a href="#versión-8">Versión 8.</a></li>
<li><a href="#versión-9">Versión 9.</a></li>
<li><a href="#versión-10">Versión 10.</a></li>
<li><a href="#versión-11">Versión 11.</a></li>
<li><a href="#versión-12">Versión 12.</a></li>
<li><a href="#versión-13">Versión 13.</a></li>
<li><a href="#versión-14">Versión 14.</a></li>
<li><a href="#versión-15">Versión 15.</a></li>
<li><a href="#versión-16">Versión 16.</a></li>
<li><a href="#versión-17">Versión 17.</a></li>
<li><a href="#versión-18">Versión 18.</a></li>
<li><a href="#versión-19">Versión 19.</a></li>
<li><a href="#versión-20">Versión 20.</a></li>
<li><a href="#versión-21">Versión 21.</a></li>
</ul>
</li>
<li><a href="#sintesis"><strong>Sintesis</strong></a></li>
<li><a href="#bibliografía"><strong>Bibliografía</strong></a></li>
<li><a href="#ponente">Ponente</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="por-qué"><strong>¿Por qué?</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="red">Mito</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<em class="red"><strong>[irónicamente]</strong></em> <span class="red">un proyecto de software bien administrado lleva a cabo un desarrollo metódico de requerimientos y define una lista estable de las responsabilidades del programa. El diseño sigue los requerimientos, y se hace con cuidado para que la codificación pueda proceder de forma lineal, de principio a fin, lo que implica que la <strong>mayor parte del código se puede escribir, probar y olvidar de una sola vez</strong> &#8230;&#8203;</span>
</blockquote>
<div class="attribution">
&#8212; Fred P. Brooks Jr<br>
<cite>The Mythical Man-Month</cite>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><strong class="blue">Realidad</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="blue">Triangulo de Hierro, coste, tiempo y ámbito dependen de la calidad</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
Creo firmemente que un <strong class="blue">buen diseño es esencial para un rápido desarrollo de software</strong>. Sin un buen diseño, puede progresar rápidamente durante un tiempo, pero pronto el <strong class="red">diseño deficiente comienza a ralentizarlo</strong>. Dedicas tiempo a buscar y corregir errores en lugar de agregar una nueva funcionalidad. Los cambios requieren más tiempo para comprender el sistema y encontrar el código duplicado. Las nuevas funcionalidades necesitan más codificación a medida que <strong class="red">parchea un parche que parchea un parche sobre la base del código original</strong>.
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Ley de Complejidad Creciente</strong> de <em>Lemmany</em> &amp; <em>Belady</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
No hay software tan grande, enredado o complejo que el <strong class="red">mantenimiento no pueda empeorarlo</strong>
</blockquote>
<div class="attribution">
&#8212; Gerald Weinberg
</div>
</div>
<div class="quoteblock">
<blockquote>
A medida que las <strong class="red">personas cambian el código</strong>, cambios para lograr objetivos a corto plazo o cambios realizados <strong class="red">sin una comprensión completa del diseño del código</strong>, el código pierde su estructura. Se vuelve más difícil ver el diseño leyendo el código. La pérdida de la estructura del código tiene un efecto acumulativo. Cuanto más difícil es ver el diseño en el código, más difícil es conservarlo y más rápidamente se deteriora. El problema es que <strong class="red">cuando intenta que el programa funcione, no está pensando en el futuro desarrollador</strong>.
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="qué"><strong>¿Qué?</strong></h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
Un <strong class="blue">cambio hecho a la estructura interna</strong> del software para hacerlo más <strong class="blue">fácil de entender</strong> y más barato de modificar, <strong class="blue">sin modificar su comportamiento</strong> observable
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Sustantivo</th>
<th class="tableblock halign-left valign-top">Verbo</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
Cada una de las modificaciones hechas al código fuente que cumplen con la definición
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
El acto de aplicar uno o varios refactorings al código fuente
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><em>I should amplify a couple of points in my definitions:</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
Primero, el propósito de la refactorización es hacer que el software sea más fácil de entender y modificar. Puedes realizar muchos cambios en el software que hacen poco o ningún cambio en el comportamiento observable. <strong class="blue">Solo los cambios realizados para facilitar la comprensión del software son refactorizaciones</strong>. Un buen contraste es la <strong class="red">optimización del rendimiento</strong>.
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
¿La refactorización es solo limpiar el código? "En cierto modo, la respuesta es sí, pero creo que la refactorización va <strong class="blue">más allá porque proporciona una técnica para limpiar el código de una manera más eficiente y controlada</strong>.
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><span class="green">Sí cumple</span></th>
<th class="tableblock halign-left valign-top"><span class="red">No cumple</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Mejorar la calidad diseño del código después de haberlo escrito</strong></p>
</li>
<li>
<p><strong class="green">Mantener el comportamiento</strong></p>
</li>
<li>
<p>con una técnica precisa: <strong class="green">pequeños pasos, <em>baby steps</em></strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Optimización</strong> de recursos, tiempo, espacio, rendimiento, &#8230;&#8203;, mejorar la eficiencia del código, &#8230;&#8203;</p>
</li>
<li>
<p><strong class="red">Incorporar nueva funcionalidad</strong></p>
</li>
<li>
<p>Rehacer/Limpiar código <strong class="red">sin <em>baby steps</em></strong></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="para-qué"><strong>¿Para qué?</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Ventaja</th>
<th class="tableblock halign-left valign-top">Justificación</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Comprender el software fácilmente</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
La refactorización le ayuda a hacer su código más legible. Al refactorizar, tiene un código que funciona pero no está estructurado idealmente. Un poco de tiempo dedicado a la refactorización puede hacer que el <strong class="green">código comunique mejor su propósito</strong>. <strong class="green">No soy necesariamente altruista</strong> al respecto. A menudo, este futuro desarrollador soy yo. A medida que el código se aclara, encuentro que puedo <span class="green">ver cosas sobre el diseño que no podía ver antes</span>.
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Localizar errores por revisiones, más seguro (eficaz)</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
Sin embargo, encuentro que si refactorizo el código, trabajo profundamente en la comprensión de lo que hace el código, y vuelvo a poner esa nueva comprensión en el código. Al aclarar la estructura del programa, aclaro ciertas suposiciones que hice, hasta el punto en que <strong class="green">ni siquiera yo puedo evitar detectar los errores</strong>
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Programar más rápido (eficiente)</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
Se necesita un cambio de ritmo para realizar cambios que faciliten la comprensión del código. La refactorización le ayuda a desarrollar software más rápidamente, porque <strong class="green">evita que el diseño del sistema se deteriore</strong>
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Mejorar la calidad de un diseño (efectividad)</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
Sin la refactorización, el diseño del programa se deteriorará. La <strong class="green">refactorización metódica ayuda a que el código conserve su forma</strong>.
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stretch">
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><span class="red">Excusas</span></th>
<th class="tableblock halign-left valign-top"><span class="red">Error</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Desconocimiento</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Inefectividad al no invertir en aprender nuevas técnicas, herramientas, diseños, &#8230;&#8203;</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Si no está roto, no lo toques!</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Asunción de riesgos por miedo, pereza, vergüenza, &#8230;&#8203;</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Propiedad privada del código</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Ausencia de control de versiones (CVS) del código del proyecto que no tiene dueño, es del equipo porque, en caso contrario, habría un cuello de botella de máximo riesgo con ese “dueño”</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">No se puede saber quién y cuántos son los afectados</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Ausencia de control de versiones de interfaz (CMD)</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">La gestión del proyecto no lo permite</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">La gestión no requiere que justifiquemos cada “for” que escribimos y la Refactorización debe ser poco a poco, <em>baby steps</em>, por ejemplo: extraer método, extraer clase, subir un campo, método genérico, sustituir algoritmo, &#8230;&#8203;</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Arquitectura centrada en Bases de Datos</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Lógica de negocio acoplada a la estructura de la BBDD con migración ardua y compleja sin herramientas</span></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="cómo"><strong>¿Cómo?</strong></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="bucle-de-refactoring">Bucle de Refactoring</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">assert</span> &lt;invariante&gt;;
<span class="keyword">while</span> (&lt;condición&gt;) {
  &lt;cuerpo&gt;;
  <span class="keyword">assert</span> &lt;invariante&gt;;
}
<span class="keyword">assert</span> &lt;invariante&gt;;</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">assert</span> &lt;mismo comportamiento&gt;;
<span class="keyword">while</span> (&lt;smell code&gt;) {
  &lt;refactorización&gt;;
  <span class="keyword">assert</span> &lt;mismo comportamiento&gt;;
}
<span class="keyword">assert</span> &lt;mismo comportamiento&gt;;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="invariante-del-refactoring">Invariante del Refactoring</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="green">Red de Seguridad con Pruebas Unitarias Automáticas</strong> suficientes para asegurar el mismo comportamiento</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="red">No combinar con modificar/agregar comportamiento al mismo tiempo que refactorizas</strong> porque pierdes la Red de Seguridad</p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Fáciles de Ejecutar</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="green">Automatizadas</span></p>
</li>
<li>
<p><span class="green">Auto-verificables</span></p>
</li>
<li>
<p><span class="green">Repetibles</span></p>
</li>
<li>
<p><span class="green">Independientes</span></p>
</li>
<li>
<p><span class="green">Rápidas</span></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Fáciles de Leer/Escribir</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="green">Cohesivas</span></p>
</li>
<li>
<p><span class="green">Sencillas</span></p>
</li>
<li>
<p><span class="green">Expresivas</span></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Mejoran la Calidad</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="green">Repelentes de Errores</span></p>
</li>
<li>
<p><span class="green">Localizan Defectos</span></p>
</li>
<li>
<p><span class="green">Parte de la Especificación</span></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Fáciles de Mantener</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="green">Profesionales</span></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Mejoran la Comprensión del SUT</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="green">Parte de la Documentación</span></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Reducen los Riesgos</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="green">Inocuas</span></p>
</li>
<li>
<p><span class="green">Red de Seguridad</span></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="condición-del-refactoring">Condición del Refactoring</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
<span class="green">La perfección se alcanza, no cuando no hay nada que añadir, sino cuando no queda nada que quitar</span>
</blockquote>
<div class="attribution">
&#8212; Antoine de Saint Exupéry<br>
<cite>El principito</cite>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="quoteblock">
<blockquote>
Reglas del diseño simple: <strong class="green">pasa todas las pruebas</strong>, <strong class="green">no contiene duplicados</strong>, <strong class="green">expresa claramente la intención del programador</strong> y <strong class="green">minimiza el número de clases y métodos para expresar dicha intención</strong>
</blockquote>
<div class="attribution">
&#8212; Kent Beck<br>
<cite>XXX</cite>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong class="red">Smell Codes de Martin Fowler</strong></th>
<th class="tableblock halign-left valign-top"><strong class="red">Smell Codes de Robert Martin</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Duplicated Code</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Duplication</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Long Method</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Be Precise</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Large Class</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Functions Should Descend Only One Level of Abstraction</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Long Parameter List</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Too Many Arguments</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Divergent Change</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Avoid Negative Conditionals</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Shotgun Surgery</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Inapropiate Static</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Feature Envy</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Feature Envy</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Data Clumps</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Don&#8217;t Be Arbitrary</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Primitive Obsession</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Make Logical Dependencies Physical</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Switch Statements</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Hidden Temporal Couplings</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Parallel Inheritance Hierarchies</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Avoid Encodings</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Lazy Class</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Obscured Intent</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Speculative Generality</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Undestand the Algorithm</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Temporary Field</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Functions Should Do One Thing</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Message Chains</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Unambiguous Names</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Middle Man</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Dead Function</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Inappropriate Intimacy</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Base Class Depending on Their Derivatives</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Alternative Classes with Different Interfaces</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Don&#8217;t Inherit Constants</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Incomplete Library Class</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Constants vs Enums</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Data Class</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Obvious Behaviour is Unimplemented</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Refused Bequest</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Too Much Information</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Comments</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red">Commented-Out Code</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>&#8230;&#8203;</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Principios, Leyes, heurísticas, &#8230;&#8203;</strong></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="green">Conceptos Recurrentes</strong></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="green">KISS, YAGNI</span></p>
</li>
<li>
<p><span class="green">Formato, Comentarios, Nombrado</span></p>
</li>
<li>
<p><span class="green">Estándares, Consistencia</span></p>
</li>
<li>
<p><span class="green">Alertas, Código Muerto, DRY</span></p>
</li>
<li>
<p><span class="green">Alta Cohesión</span></p>
</li>
<li>
<p><span class="green">Bajo Acoplamiento</span></p>
</li>
<li>
<p><span class="green">Pequeña Granularidad</span></p>
</li>
<li>
<p><span class="green">Modelo, Vista, Controlador</span></p>
</li>
<li>
<p><span class="green">Interfaz Suficiente, Completa y Primitiva</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="green">Principio de Menor Sorpresa</span></p>
</li>
<li>
<p><span class="green">Diseño por Contrato</span></p>
</li>
<li>
<p><span class="green">Principio de Sustitución de Liskov</span></p>
</li>
<li>
<p><span class="green">Principio de Separación de Interfaces</span></p>
</li>
<li>
<p><span class="green">Principio Abierto/Cerrado de Meyer</span></p>
</li>
<li>
<p><span class="green">Herencia vs Delegación</span></p>
</li>
<li>
<p><span class="green">Inversión de Control e Inyección de Dependencias</span></p>
</li>
<li>
<p><span class="green">Técnica de Doble Despacho</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="green">Modelos</span></p>
</li>
<li>
<p><span class="green">Abstracción</span></p>
</li>
<li>
<p><span class="green">Ordenación</span></p>
</li>
<li>
<p><span class="green">Asociación</span></p>
</li>
<li>
<p><span class="green">Seguridad</span></p>
</li>
<li>
<p><span class="green">Reusabilidad</span></p>
</li>
<li>
<p><span class="green">Eficacia</span></p>
</li>
<li>
<p><span class="green">Eficiencia</span></p>
</li>
<li>
<p><span class="green">Compromisos</span></p>
</li>
<li>
<p><span class="green">Complejidad</span></p>
</li>
<li>
<p><span class="green">Evolución</span></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="green">Patrones Creacionales, Estructurales y de Comportamiento</span></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="cuerpo-del-refactoring">Cuerpo del Refactoring</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Un <strong class="red">Smell Code</strong> se elimina con uno de entre varios posibles <strong class="green">Refactoring</strong>, dependiendo del <strong class="red">contexto del Smell Code</strong></p>
</li>
<li>
<p>Un <strong class="green">Refactoring</strong> puede componerse de otros <strong class="green">Refactoring</strong></p>
<div class="ulist">
<ul>
<li>
<p>Un <strong class="green">Refactoring</strong> se compone de varios <strong class="green">Baby Steps</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/cuerpo.svg" alt="cuerpo" width="582" height="260">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2">Refactorizaciones correspondientes a <em>smell codes</em></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Código Duplicado</strong>: se tienen las siguientes posibles refactorizaciones:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">Extraer método</strong>: la misma expresión en dos método de la misma clase</p>
</li>
<li>
<p><strong class="green">Extraer método y subir un campo</strong>: la misma expresión en dos clases hermanas</p>
</li>
<li>
<p><strong class="green">Extraer método y método genérico</strong>: código similar pero no igual</p>
</li>
<li>
<p><strong class="green">Sustituir algoritmo y extrare método</strong>: los métodos hacen la misma cosa con algoritmos diferentes</p>
</li>
<li>
<p><strong class="green">Extraer clase y extraer métodos</strong>: en dos clases no relacionadas.</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/duplicado.svg" alt="duplicado" width="490" height="239">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong class="red">Clase Grande</strong>: se tienen las siguientes posibles refactorizaciones:</p>
<div class="ulist">
<ul>
<li>
<p><strong class="green">Extraer clase</strong>: con subconjunto de atributos relacionados</p>
</li>
<li>
<p><strong class="green">Extraer subclase</strong>: si tiene sentido</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/grande.svg" alt="grande" width="392" height="187">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 70%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><em>Baby Steps</em> de Extraer Clase</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Extraer Clase</strong> se tienen los siguientes <em>baby steps</em></p>
<div class="ulist">
<ul>
<li>
<p>Decide cómo partir las responsabilidades de la clase</p>
</li>
<li>
<p>Crea una nueva clase para expresar dicho reparto</p>
<div class="ulist">
<ul>
<li>
<p>Si las responsabilidades de la clase original no corresponde con su nombre, cambialo</p>
</li>
</ul>
</div>
</li>
<li>
<p>Haz un enlace de la clase original a la nueva</p>
<div class="ulist">
<ul>
<li>
<p>Puedes necesitar un doble enlace pero no lo hagas hasta que no encuentres necesario</p>
</li>
</ul>
</div>
</li>
<li>
<p>Aplicar <strong>Mover Campo</strong> para cada campo que quieras mover</p>
</li>
<li>
<p><span class="green">Compila y pasa todos los test después de cada movimiento</span></p>
</li>
<li>
<p>Aplicar <strong>Mover Método</strong> para cada método de la clases original a la nueva empezando por los de más bajo nivel (llamados, no llamantes) y construye hasta el nivel más alto</p>
</li>
<li>
<p><span class="green">Compila y pasa todos los test después de cada movimiento</span></p>
</li>
<li>
<p>Revisa y reduce los interfaces de las clases</p>
<div class="ulist">
<ul>
<li>
<p>Decidir si exponer la nueva clase</p>
</li>
</ul>
</div>
</li>
<li>
<p>En caso afirmativo, refactorizar interfaces</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/extraersubClase.svg" alt="extraersubClase" width="393" height="222">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Extraer subclase</strong> se tienen los siguientes <em>baby steps</em></p>
<div class="ulist">
<ul>
<li>
<p>Define a new subclass of the source class</p>
</li>
<li>
<p>Provide constructors for the new subclass</p>
<div class="ulist">
<ul>
<li>
<p>In the simple cases, copy the arguments of the superclass and call the superclass constructor with super</p>
</li>
<li>
<p>If you want to hide the use of the subclass from clients, you can use <strong>Replace Constructor with Factory Method</strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Find all calls to constructors of the superclass. If they need the subclass, replace with a call to the new constructor</p>
<div class="ulist">
<ul>
<li>
<p>If the subclass constructor needs different arguments, use <strong>Rename Method</strong> to change it. If some of the constructor parameters of the superclass are no longer needed, use <strong>Rename Method</strong> on that too.</p>
</li>
<li>
<p>If the superclass can no longer be directly instantiated, declare it abstract</p>
</li>
</ul>
</div>
</li>
<li>
<p>One by one use <strong>Push Down Method</strong> and <strong>Push Down Field</strong> to move features onto the subclass</p>
<div class="ulist">
<ul>
<li>
<p>Unlike <strong>Extract Class</strong> it usually is easier to work with the methods first and the data last</p>
</li>
<li>
<p>When a public method is pushed, you may need to redefine a caller&#8217;s variable or parameter type to call the new method. The compiler will catch these cases</p>
</li>
</ul>
</div>
</li>
<li>
<p>Look for any field that designates information now indicated by the hierarchy (usually a boolean or type code). Eliminate it by using <strong>Self Encapsulate Field</strong> and replacing the getter with polymorphic constant methods. All users of this field should be refactored with <strong>Replace Conditional with Polymorphism</strong></p>
<div class="ulist">
<ul>
<li>
<p>For any methods outside the class that use an accessor, consider using <strong>Move Method</strong> to move the method into this class; then use <strong>Replace Conditional with Polymorphism</strong></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/extraerClase.svg" alt="extraerClase" width="429" height="894">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="catálogo-de-refactorizaciones">Catálogo de Refactorizaciones</h3>
<div class="quoteblock">
<blockquote>
<span class="red">No se convierte en un artesano del software aprendiendo una <strong>lista de heurísticas</strong></span>. <span class="green">El profesionalismo y la artesanía provienen de <strong>valores que impulsan las disciplinas</strong></span>
</blockquote>
<div class="attribution">
&#8212; Martin Fowler<br>
<cite>Refactoring</cite>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Nombrado</strong></p>
<div class="ulist">
<ul>
<li>
<p>Replace Magic Number with Symbolic Constant</p>
</li>
<li>
<p>Rename Method</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Parámetros</strong></p>
<div class="ulist">
<ul>
<li>
<p>Remove Assignments to Parameters</p>
</li>
<li>
<p>Replace Parameter with Method</p>
</li>
<li>
<p>Replace Parameter with Explicit Methods</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Variables Temporales</strong></p>
<div class="ulist">
<ul>
<li>
<p>Split Temporary Variable</p>
</li>
<li>
<p>Introduce Explaining Variable</p>
</li>
<li>
<p>Inline Temp</p>
</li>
<li>
<p>Replace Temp with Query</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Condicionales</strong></p>
<div class="ulist">
<ul>
<li>
<p>Replace Nested Conditional with Guard Clauses</p>
</li>
<li>
<p>Consolidate Conditional Expression</p>
</li>
<li>
<p>Consolidate Duplicate Conditional Fragments</p>
</li>
<li>
<p>Remove Control Flag</p>
</li>
<li>
<p>Introduce Null Object</p>
</li>
<li>
<p>Decompose Conditional</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Cabecera de Métodos</strong></p>
<div class="ulist">
<ul>
<li>
<p>Remove Parameter</p>
</li>
<li>
<p>Add Parameter</p>
</li>
<li>
<p>Parameterize Method</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Cuerpo de Métodos</strong></p>
<div class="ulist">
<ul>
<li>
<p>Substitute Algorithm</p>
</li>
<li>
<p>Inline Method</p>
</li>
<li>
<p>Extract Method</p>
</li>
<li>
<p>Replace Method with Method Object</p>
</li>
<li>
<p>Form Template Method</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Encapsulación</strong></p>
<div class="ulist">
<ul>
<li>
<p>Encapsulate Field</p>
</li>
<li>
<p>Self Encapsulate Field</p>
</li>
<li>
<p>Hide Method</p>
</li>
<li>
<p>Remove Setting Method</p>
</li>
<li>
<p>Encapsulate Collection</p>
</li>
<li>
<p>Encapsulate Downcast</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Gestión de Errores</strong></p>
<div class="ulist">
<ul>
<li>
<p>Introduce Assertion</p>
</li>
<li>
<p>Replace Error Code with Exception</p>
</li>
<li>
<p>Separate Query from Modifier</p>
</li>
<li>
<p>Replace Exception with Test</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Relación de Herencia</strong></p>
<div class="ulist">
<ul>
<li>
<p>Extract Interface</p>
</li>
<li>
<p>Extract Superclass</p>
</li>
<li>
<p>Extract Subclass</p>
</li>
<li>
<p>Collapse Hierarchy</p>
</li>
<li>
<p>Replace Subclass with Fields</p>
</li>
<li>
<p>Pull Up Field</p>
</li>
<li>
<p>Push Down Field</p>
</li>
<li>
<p>Pull Up Method</p>
</li>
<li>
<p>Push Down Method</p>
</li>
<li>
<p>Pull Up Constructor Body</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Polimorfismo</strong></p>
<div class="ulist">
<ul>
<li>
<p>Replace Conditional with Polymorphism</p>
</li>
<li>
<p>Replace Type Code with Subclasses</p>
</li>
<li>
<p>Replace Type Code with State/Strategy</p>
</li>
<li>
<p>Replace Constructor with Factory Method</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Reparto de Responsabilidades</strong></p>
<div class="ulist">
<ul>
<li>
<p>Move Method</p>
</li>
<li>
<p>Move Field</p>
</li>
<li>
<p>Inline Class</p>
</li>
<li>
<p>Extract Class</p>
</li>
<li>
<p>Replace Type Code with Class</p>
</li>
<li>
<p>Replace Array with Object</p>
</li>
<li>
<p>Replace Record with Data Class</p>
</li>
<li>
<p>Introduce Parameter Object</p>
</li>
<li>
<p>Replace Data Value with Object</p>
</li>
<li>
<p>Change Value to Reference</p>
</li>
<li>
<p>Change Reference to Value</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top" rowspan="2"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Colaboraciones</strong></p>
<div class="ulist">
<ul>
<li>
<p>Preserve Whole Object</p>
</li>
<li>
<p>Replace Delegation with Inheritance</p>
</li>
<li>
<p>Replace Inheritance with Delegation</p>
</li>
<li>
<p>Hide Delegate</p>
</li>
<li>
<p>Remove Middle Man</p>
</li>
<li>
<p>Change Unidirectional Association to Bidirectional</p>
</li>
<li>
<p>Change Bidirectional Association to Unidirectional</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong>Bibliotecas &amp; GUI</strong></p>
<div class="ulist">
<ul>
<li>
<p>Introduce Foreign Method</p>
</li>
<li>
<p>Introduce Local Extension</p>
</li>
<li>
<p>Duplicate Observed Data</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="nombrado">Nombrado</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Rename Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/renameMethod1.svg" alt="renameMethod1" width="166" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">The name of a method does not reveal its purpose</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Change the name of the method.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/renameMethod2.svg" alt="renameMethod2" width="274" height="94">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Magic Number with Symbolic Constant</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> potentialEnergy(<span class="type">double</span> mass,<span class="type">double</span> height)  {
   <span class="keyword">return</span> mass * <span class="float">9.81</span> * height;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a literal number with a particular meaning</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a constant, name it after the meaning, and replace the number with it.</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> potentialEnergy(<span class="type">double</span> mass,<span class="type">double</span> height) {
    <span class="keyword">return</span> mass * GRAVITATIONAL_CONSTANT * height;
}
<span class="directive">static</span> <span class="directive">final</span> <span class="type">double</span> GRAVITATIONAL_CONSTANT = <span class="float">9.81</span>;</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="parámetros">Parámetros</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Remove Assignments to Parameters</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> discount (<span class="type">int</span> inputVal, <span class="type">int</span> quantity, <span class="type">int</span> yearToDate)  {
  <span class="keyword">if</span> (inputVal &gt; <span class="integer">50</span>)
    inputVal -=<span class="integer">2</span>;
  ...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">The code assigns to a parameter</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Use a temporary variable instead.</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> discount (<span class="type">int</span> inputVal, <span class="type">int</span> quantity, <span class="type">int</span> yearToDate)  {
  <span class="type">int</span> result = inputVal ;
  <span class="keyword">if</span> (inputVal &gt; <span class="integer">50</span>)
    result -=<span class="integer">2</span> ;
  ...</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Parameter with Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> basePrice = quantity * itemPrice;
discountLevel = getDiscountLevel();
<span class="type">double</span> finalPrice = discountedPrice (basePrice, discountLevel);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">An object invokes a method, then passes the result as a parameter for a method. The receiver can also invoke this method</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Remove the parameter and let the receiver invoke the method</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> basePrice = quantity * itemPrice;
<span class="type">double</span> finalPrice = discountedPrice (basePrice);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Parameter with Explicit Methods</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">void</span> setValue (<span class="predefined-type">String</span> name, <span class="type">int</span> vale) {
  <span class="keyword">if</span> (name.equals(<span class="string"><span class="delimiter">&quot;</span><span class="content">height</span><span class="delimiter">&quot;</span></span>) )
     height = value;
  <span class="keyword">if</span> (name.equals (<span class="string"><span class="delimiter">&quot;</span><span class="content">width</span><span class="delimiter">&quot;</span></span>) )
     width = value;
  Assert.shouldNeverReachHere() ;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a method that runs different code depending on the values of an enumerated parameter</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a separate method for each value of the parameter</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">void</span> setHeight (<span class="type">int</span> arg) {
   height = arg ;
}
<span class="type">void</span> setWidht (<span class="type">int</span> arg) {
   width = arg ;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="variables-temporales">Variables Temporales</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Split Temporary Variable</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> temp = <span class="integer">2</span>*(height+width);<i class="conum" data-value="1"></i><b>(1)</b>
<span class="predefined-type">System</span>.out.println (temp);
temp = height*width;<i class="conum" data-value="1"></i><b>(1)</b>
<span class="predefined-type">System</span>.out.println (temp);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a temporary variable assigned to more than once, but is not a loop variable nor a collecting temporary variable</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Make a separate temporary variable for each assignment</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> <span class="type">double</span> perimeter = <span class="integer">2</span>*(height+width);<i class="conum" data-value="1"></i><b>(1)</b>
<span class="predefined-type">System</span>.out.println (perimeter);
<span class="directive">final</span> <span class="type">double</span> area = height*width;<i class="conum" data-value="1"></i><b>(1)</b>
<span class="predefined-type">System</span>.out.println (area);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Introduce Explaining Variable</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> ((platform.toUpperCase().indexOf (<span class="string"><span class="delimiter">&quot;</span><span class="content">MAC</span><span class="delimiter">&quot;</span></span>) &gt; -<span class="integer">1</span>) &amp;&amp;
    (browser.toUpperCase().indexOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">IE</span><span class="delimiter">&quot;</span></span>) &gt; -<span class="integer">1</span> )  &amp;&amp;
    wasInitialized() &amp;&amp; resize &gt; <span class="integer">0</span> ) {
     <span class="comment">// do something</span>
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a complicated expression</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Put the result of the expression, or parts of the expression, in a temporary variable with a name that explains the purpose.</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> <span class="type">boolean</span> isMacOs  = plataform.toUpperCase().indexOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">MAC</span><span class="delimiter">&quot;</span></span>) &gt; -<span class="integer">1</span>;
<span class="directive">final</span> <span class="type">boolean</span> is IEBrowser  = browser.toUpperCase().indexOf(<span class="string"><span class="delimiter">&quot;</span><span class="content">IE</span><span class="delimiter">&quot;</span></span>) &gt; -<span class="integer">1</span>;
<span class="directive">final</span> <span class="type">boolean</span> wasResired  = resize &gt; <span class="integer">0</span>
<span class="keyword">if</span> (isMacOs &amp;&amp; isIEBrowser &amp;&amp; wasInitialized()  &amp;&amp; wasResired) {
     <span class="comment">// do something</span>
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Inline Temp</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> basePrice = anOrder.basePrice();
<span class="keyword">return</span> (basePrice &gt; <span class="integer">1000</span>);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a temp that is assigned to once with a simple expression, and the temp is getting in the way of other refactorings</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace all references to that temp with the expression</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">return</span> (anOrder.basePrice() &gt; <span class="integer">1000</span>);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Temp with Query</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> basePrice = quantity * itemPrice;
<span class="keyword">if</span> (basePrice &gt; <span class="integer">1000</span>)
    <span class="keyword">return</span> basePrice * <span class="float">0.95</span>;
<span class="keyword">else</span>
    <span class="keyword">return</span> basePrice * <span class="float">0.98</span>;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You are using a temporary variable to hold the result of an expression</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Extract the expression into a method. Replace all references to the temp with the expression. The new method can then be used in other methods</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (basePrice() &gt; <span class="integer">1000</span>)
   <span class="keyword">return</span> basePrice() * <span class="float">0.95</span>;
<span class="keyword">else</span>
   <span class="keyword">return</span> basePrice() * <span class="float">0.98</span>;
...
double basePrice() {
   <span class="keyword">return</span> quantity * itemPrice;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="condicionales">Condicionales</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Nested Conditional with Guard Clauses</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> getPayAmount() {
  <span class="type">double</span> result;
  <span class="keyword">if</span> (_isDead)
    result = deadAmount();
  <span class="keyword">else</span> {
    <span class="keyword">if</span> (_isSeparated)
      result = separatedAmount();
    <span class="keyword">else</span> {
      <span class="keyword">if</span> (_isRetired)
        result = returedAmount();
      <span class="keyword">else</span>
        result = normalPayAmount();
    }
  }
  <span class="keyword">return</span> result;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method has conditional behavior that does not make clear the normal path of execution</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Use guard clauses for all the special cases</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> getPayAmount() {
  <span class="keyword">if</span> (_isDead)
    <span class="keyword">return</span> deadAmount();
  <span class="keyword">if</span> (_isSeparated)
    <span class="keyword">return</span> separatedAmount();
  <span class="keyword">if</span> (_isRetured)
    <span class="keyword">return</span> retiredAmount();
  <span class="keyword">return</span> normalPayAmount();
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Consolidate Conditional Expression</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> desabilityAmount() {
  <span class="keyword">if</span> (_seniority &lt;<span class="integer">2</span>)
    <span class="keyword">return</span> <span class="integer">0</span> ;
  <span class="keyword">if</span> (_monthsDisabled &gt;<span class="integer">12</span>)
    <span class="keyword">return</span> <span class="integer">0</span> ;
  <span class="keyword">if</span> (_isPartTime)
    <span class="keyword">return</span> <span class="integer">0</span> ;
  ...
  <span class="comment">//compute the disability deadAmount</span></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a sequence of conditional tests with the same result</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Combine them into a single conditional expression and extract it</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> disabilityAmount() {
  <span class="keyword">if</span> (isNotEligableForDisability() )
    <span class="keyword">return</span> <span class="integer">0</span> ;
  ...
  <span class="comment">//compute the disability deadAmount</span></code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Consolidate Duplicate Conditional Fragments</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (isSpecialDeal()) {
   total = price*<span class="float">0.95</span>;
   send();
} <span class="keyword">else</span> {
   total = price*<span class="float">0.98</span>;
   send();
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">The same fragment of code is in all branches of a conditional expression</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move it outside of the expression</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (isSpecialDeal() )
  total = price * <span class="float">0.95</span> ;
<span class="keyword">else</span>
  total = prise * <span class="float">0.98</span> ;
send();</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Remove Control Flag</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">set done to <span class="predefined-constant">false</span>
<span class="keyword">while</span> not done
  <span class="keyword">if</span> (condition)
     <span class="keyword">do</span> something
     set done to <span class="predefined-constant">true</span>
  next step of loop</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a variable that is acting as a control flag for a series of boolean expressions</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Use a break or return instead</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">while</span> not done
  <span class="keyword">if</span> (condition)
     <span class="keyword">do</span> something
     <span class="keyword">break</span>/<span class="keyword">return</span>
  next step of loop</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Introduce Null Object</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (customer == <span class="predefined-constant">null</span>)
  plan = BillingPlan.basic();
<span class="keyword">else</span>
  plan = customer.getPlan();</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have repeated checks for a null value</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace the null value with a null object</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/NullObject.svg" alt="NullObject" width="181" height="230">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Decompose Conditional</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (date.before(SUMMER_START) || date.after (SUMMER_END))
   charge = quantity * winterRate+winterServiceCharge;
<span class="keyword">else</span>
   charge = quantity * summerRate;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a complicated conditional (if-then-else) statement</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Extract methods from the condition, then part, and else parts.</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">if</span> (notSummer(date) )
   charge = winterCharge(quantity);
<span class="keyword">else</span>
   charge = summerCharge(quantity);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="cabecera-de-método">Cabecera de Método</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Remove Parameter</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/remuveParameter1.svg" alt="remuveParameter1" width="184" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A parameter is no longer used by the method body.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Remove it.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/remuveParameter2.svg" alt="remuveParameter2" width="139" height="94">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Add Parameter</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/addParameter1.svg" alt="addParameter1" width="139" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method needs more information from its calle</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Add a parameter for an object that can pass on this information</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/addParameter2.svg" alt="addParameter2" width="184" height="94">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Parameterize Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/parameterizeMethod1.svg" alt="parameterizeMethod1" width="193" height="116">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">Several methods do similar things but with different values contained in the method body.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create one method that uses a parameter for the different values</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/parameterizeMethod2.svg" alt="parameterizeMethod2" width="184" height="94">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="cuerpo-de-métodos">Cuerpo de Métodos</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Substitute Algorithm</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> foundPerson(<span class="predefined-type">String</span><span class="type">[]</span> people ) {
  <span class="keyword">for</span> (<span class="type">int</span> i=<span class="integer">0</span>; i &lt; people.lenght; i++) {
    <span class="keyword">if</span> (people[i].equals (<span class="string"><span class="delimiter">&quot;</span><span class="content">Don</span><span class="delimiter">&quot;</span></span>))  {
      <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Don</span><span class="delimiter">&quot;</span></span> ;
    }
    <span class="keyword">if</span> people[i].equals (<span class="string"><span class="delimiter">&quot;</span><span class="content">John</span><span class="delimiter">&quot;</span></span>)) {
      <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Jhon</span><span class="delimiter">&quot;</span></span> ;
    }
    <span class="keyword">if</span> (people[i].equals (<span class="string"><span class="delimiter">&quot;</span><span class="content">Kent</span><span class="delimiter">&quot;</span></span>))  {
      <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Kent</span><span class="delimiter">&quot;</span></span> ;
    }
  }
  <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> ;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You want to replace an algorithm with one that is clearer</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace the body of the method with the new algorithm</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> foundPerson (<span class="predefined-type">String</span><span class="type">[]</span> people) {
  <span class="predefined-type">List</span> candidates = <span class="predefined-type">Arrays</span>.asList (<span class="keyword">new</span> <span class="predefined-type">String</span><span class="type">[]</span> {<span class="string"><span class="delimiter">&quot;</span><span class="content">Don</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Jhon</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Kent</span><span class="delimiter">&quot;</span></span>});
  <span class="keyword">for</span> (<span class="type">int</span> i=<span class="integer">0</span>; i&lt; people.length; i++)
    <span class="keyword">if</span> (candidates.contains(people[i]))
      <span class="keyword">return</span> people[i];
  <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span> ;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Inline Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> getRating(){
  <span class="keyword">return</span> (moreThanFiveLateDeliveries())? <span class="integer">2</span>: <span class="integer">1</span>;
}

<span class="type">boolean</span> moreThanFiveLateDeliveries(){
  <span class="keyword">return</span> numberOfLateDeliveries &gt; <span class="integer">5</span>;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method&#8217;s body is just as clear as its name</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Put the method&#8217;s body into the body of its callers and remove the method</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> getRating(){
  <span class="keyword">return</span> (numberOfLateDeliveries &gt; <span class="integer">5</span>)? <span class="integer">2</span>: <span class="integer">1</span>;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Extract Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">void</span> printOwing(<span class="type">double</span> amount){
  printBanner() ;
  <span class="comment">// print details</span>
  <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">name:</span><span class="delimiter">&quot;</span></span> + name);
  <span class="predefined-type">System</span>.out.println(<span class="string"><span class="delimiter">&quot;</span><span class="content">amount:</span><span class="delimiter">&quot;</span></span> + amount);
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a code fragment that can be grouped together</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Turn the fragment into a method whose name explains the purpose of the method</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">void</span> printOwing(<span class="type">double</span> amount){
  printBanner();
  printDetails (amount);
}

<span class="type">void</span> printDetails (<span class="type">double</span> amount){
  <span class="predefined-type">System</span>.out.println (<span class="string"><span class="delimiter">&quot;</span><span class="content">name:</span><span class="delimiter">&quot;</span></span>) + name);
  <span class="predefined-type">System</span>.out.println (<span class="string"><span class="delimiter">&quot;</span><span class="content">amount:</span><span class="delimiter">&quot;</span></span>) + amount);
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Method with Method Object</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">Order</span>
  <span class="type">double</span> price() {
    <span class="type">double</span> prinaryBasePrice;
    <span class="type">double</span> secondaryBasePrice;
    <span class="type">double</span> tertiaryBasePrice;
    <span class="comment">// long computation;</span>
    ....
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a long method that uses local variables in such a way that you cannot apply Extract Method</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Turn the method into its own object so that all the local variables become fields on that object. You can then decompose the method into other methods on the same object</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/methodObject.svg" alt="methodObject" width="553" height="285">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Form Template Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/templateMethod1.svg" alt="templateMethod1" width="987" height="447">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have two methods in subclasses that perform similar steps in the same order, yet the steps are different</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Get the steps into methods with the same signature, so that the original methods become the same. Then you can pull them up</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/templateMethod2.svg" alt="templateMethod2" width="856" height="321">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="encapsulación">Encapsulación</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Encapsulate Field</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="predefined-type">String</span>  _name</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">There is a public field</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Make it private and provide accessors</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="predefined-type">String</span> name;

<span class="directive">public</span> <span class="predefined-type">String</span> getName(){
  <span class="keyword">return</span> <span class="local-variable">this</span>.name;
}

<span class="directive">public</span> <span class="type">void</span> setName(<span class="predefined-type">String</span> name){
  <span class="local-variable">this</span>.name = name;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Self Encapsulate Field</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">int</span> low;
<span class="directive">private</span> <span class="type">int</span> high;

<span class="directive">public</span> <span class="type">boolean</span> includes (<span class="type">int</span> value) {
  <span class="keyword">return</span> <span class="local-variable">this</span>.low &lt;= value &amp;&amp; value &lt; = <span class="local-variable">this</span>.high;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You are accessing a field directly, but the coupling to the field is becoming awkward</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create getting and setting methods for the field and use only those to access the field</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">private</span> <span class="type">int</span> low
<span class="directive">private</span> <span class="type">int</span> high;

<span class="type">boolean</span> includes (unt value) {
     <span class="keyword">return</span> <span class="local-variable">this</span>.getLow() &lt;= value &amp;&amp; value &lt;= <span class="local-variable">this</span>.getHigh() ;
}

<span class="type">int</span> getLow() {
  <span class="keyword">return</span> low;
}

<span class="type">int</span> getHigh() {
  <span class="keyword">return</span> high;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Hide Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/hideMethod1.svg" alt="hideMethod1" width="126" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method is not used by any other class</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Make the method private</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/hideMethod2.svg" alt="hideMethod2" width="126" height="94">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Remove Setting Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/settingMethod1.svg" alt="settingMethod1" width="216" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A field should be set at creation time and never altered.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Remove any setting method for that field</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/settingMethod2.svg" alt="settingMethod2" width="121" height="73">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Encapsulate Collection</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/encapsulateCollection1.svg" alt="encapsulateCollection1" width="207" height="116">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method returns a collection</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Make it return a read-only view and provide add/remove methods</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/encapsulateCollection2.svg" alt="encapsulateCollection2" width="315" height="137">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Encapsulate Downcast</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Object</span> lastReading()  {
    <span class="keyword">return</span> readings.lastElement() ;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method returns an object that needs to be downcasted by its callers</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move the downcast to within the method</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Reading lastReading()  {
   <span class="keyword">return</span> (Reading) readings.lastElement() ;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="gestión-de-errores">Gestión de Errores</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Introduce Assertion</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> getExpenseLimit() {
   <span class="comment">// should have either exprense limit or a primary project</span>
   <span class="keyword">return</span> (_expenseLimit != NULL _EXPENSE) ?
      _expenseLimit:
      _primaryProject.getMemberExpenseLimit() ;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A section of code assumes something about the state of the program</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Make the assumption explicit with an assertion</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> getExpenseLimit()  {
    Assert.isTrue (_expenseLimit !=NULL _EXPENSE | | _primaryProject != <span class="predefined-constant">null</span>);
    <span class="keyword">return</span> (_expenseLimit ! = NULL _EXPENSE) ?
       _expenseLimit:
       _primaryProject.getMemberExpenseLimit() ;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Error Code with Exception</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> withdraw(<span class="type">int</span> amount) {
    <span class="keyword">if</span> (amount &gt; _balance)
        <span class="keyword">return</span> -<span class="integer">1</span>;
    <span class="keyword">else</span>  {
        balance -= amount ;
        <span class="keyword">return</span> <span class="integer">0</span> ;
    }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method returns a special code to indicate an error.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Throw an exception instead.</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">void</span> withdraw(<span class="type">int</span> amount) <span class="directive">throws</span> BalanceExeption {
    <span class="keyword">if</span> (amount &gt; _balance) <span class="keyword">throw</span> <span class="keyword">new</span> BalanceExeption() ;
    balance -=amount;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Separate Query from Modifier</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/Query1.svg" alt="Query1" width="441" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a method that returns a value but also changes the state of an object</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create two methods, one for the query and one for the modification</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Query2.svg" alt="Query2" width="243" height="116">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Exception with Test</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> getValueForPeriod (<span class="type">int</span> periodNumber) {
   <span class="keyword">try</span>  {
        <span class="keyword">return</span> _values[periodNumber];
   }  <span class="keyword">catch</span> (<span class="exception">ArrayIndexOutOfBoundsException</span> e) {
      <span class="keyword">return</span> <span class="integer">0</span>;
   }
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You are throwing a checked exception on a condition the caller could have checked first</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Change the caller to make the test first</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> getValueForPeriod (<span class="type">int</span> periodNunber) {
   <span class="keyword">if</span> (periodNumber &gt;= _values.length) <span class="keyword">return</span> <span class="integer">0</span>;
   <span class="keyword">return</span> _values(periodNumber);
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="relación-de-herencia">Relación de Herencia</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Extract Interface</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/extractInterface1.svg" alt="extractInterface1" width="198" height="159">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">Several clients use the same subset of a class’s interface, or two classes have part of their interfaces in common.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Extract the subset into an interface</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/extractInterface2.svg" alt="extractInterface2" width="198" height="333">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Extract Superclass</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/extractSuperclass1.svg" alt="extractSuperclass1" width="423" height="137">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have two classes with similar features</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a superclass and move the common features to the superclass</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/extractSuperclass2.svg" alt="extractSuperclass2" width="378" height="273">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Extract Subclass</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/extractSubclass1.svg" alt="extractSubclass1" width="180" height="137">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A class has features that are used only in some instances</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a subclass for that subset of features</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/extractSubclass2.svg" alt="extractSubclass2" width="180" height="273">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Collapse Hierarchy</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/collapseHierarchy1.svg" alt="collapseHierarchy1" width="121" height="187">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A superclass and subclass are not very different</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Merge them together</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/collapseHierarchy2.svg" alt="collapseHierarchy2" width="121" height="73">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Subclass with Fields</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/Fields1.svg" alt="Fields1" width="339" height="330">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have subclasses that vary only in methods that return constant data.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Change the methods to superclass fields and eliminate the subclasses</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Fields2.svg" alt="Fields2" width="126" height="116">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Pull Up Field</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/upField1.svg" alt="upField1" width="260" height="208">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">Two subclasses have the same field.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move the field to the superclass</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/upField2.svg" alt="upField2" width="260" height="209">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Push Down Field</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/pushDownField1.svg" alt="pushDownField1" width="260" height="209">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A field is used only by some subclasses</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move the field to the superclass</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pushDownField2.svg" alt="pushDownField2" width="260" height="208">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Pull Up Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/pullUpMethod1.svg" alt="pullUpMethod1" width="270" height="208">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have methods with identical results on subclasses</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move them to the superclass.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pullUpMethod2.svg" alt="pullUpMethod2" width="260" height="209">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Push Down Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/pushUpMethod1.svg" alt="pushUpMethod1" width="260" height="209">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">Behavior on a superclass is relevant only for some of its subclasses</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move it to those subclasses.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/pushUpMethod2.svg" alt="pushUpMethod2" width="274" height="208">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Pull Up Constructor Body</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">class</span> <span class="class">Manager</span> <span class="directive">extends</span> Employee...
   public Manager (<span class="predefined-type">String</span> name,<span class="predefined-type">String</span> id, <span class="type">int</span> grade) {
       _name = name;
       _id = id;
       _grade = grade;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have constructors on subclasses with mostly identical bodies</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a superclass constructor; call this from the subclass methods.</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> Manager (<span class="predefined-type">String</span> name, <span class="predefined-type">String</span> id, <span class="type">int</span> grade) {
      <span class="local-variable">super</span> (name,id) ;
      _grade = grade;
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="polimorfismo">Polimorfismo</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Conditional with Polymorphism</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">double</span> getSpeed() {
   <span class="keyword">switch</span> (_type) {
     <span class="keyword">case</span> EUROPEAN:
         <span class="keyword">return</span> getBaseSpeed() ;
     <span class="keyword">case</span> AFRICAN:
         <span class="keyword">return</span> getBaseSpeed() -getLoadFactor()  *
_numberOfCoconuts;
     <span class="keyword">case</span> NORWEGIAN _BLUE:
         <span class="keyword">return</span>  (_isNailed)  ? <span class="integer">0</span> : getBaseSpeed (_voltage) ;

   }
   <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">RuntimeException</span> (<span class="string"><span class="delimiter">&quot;</span><span class="content">Should be unreachable</span><span class="delimiter">&quot;</span></span>) ;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a conditional that chooses different behavior depending on the type of an object</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move each leg of the conditional to an overriding method in a subclass. Make the original method abstract</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Polymorphism.svg" alt="Polymorphism" width="499" height="230">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Type Code with Subclasses</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ReplaceTypeCodeWithSubclasses1.svg" alt="ReplaceTypeCodeWithSubclasses1" width="157" height="137">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have an immutable type code that affects the behavior of a class</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace the type code with subclasses</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReplaceTypeCodeWithSubclasses2.svg" alt="ReplaceTypeCodeWithSubclasses2" width="260" height="187">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Type Code with State/Strategy</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ReplaceTypeCodeWithState/Strategy1.svg" alt="Strategy1" width="157" height="137">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a type code that affects the behavior of a class, but you cannot use subclassing</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace the type code with a state object</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReplaceTypeCodeWithState/Strategy2.svg" alt="Strategy2" width="383" height="227">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Constructor with Factory Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Employee (<span class="type">int</span> type) {
    _type = type;
}</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You want to do more than simple construction when you create an object</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace the constructor with a factory method</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">static</span> Employee create (<span class="type">int</span> type) {
    <span class="keyword">return</span> <span class="keyword">new</span> Employee (type);
}</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="colaboraciones">Colaboraciones</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Preserve Whole Object</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> low = deysTempRange().getLow();
<span class="type">int</span> high = deysTempRange() .getHigh();
withinPlan = plan.withinRange (low,high);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You are getting several values from an object and passing these values as parameters in a method call.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Send the whole object instead</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">withinPlan = plan.withinRange(deysTempRange() );</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Delegation with Inheritance</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ReplaceDelegationInheritance1.svg" alt="ReplaceDelegationInheritance1" width="387" height="233">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You’re using delegation and are often writing many simple delegations for the entire interface.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Make the delegating class a subclass of the delegate</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReplaceDelegationInheritance2.svg" alt="ReplaceDelegationInheritance2" width="126" height="209">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Inheritance with Delegation</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ReplaceInheritanceDelegation1.svg" alt="ReplaceInheritanceDelegation1" width="126" height="209">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A subclass uses only part of a superclasses interface or does not want to inherit data</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a field for the superclass, adjust methods to delegate to the superclass, and remove the subclassing</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReplaceInheritanceDelegation2.svg" alt="ReplaceInheritanceDelegation2" width="389" height="233">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Hide Delegate</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/HideDelegate1.svg" alt="HideDelegate1" width="364" height="269">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A client is calling a delegate class of an object</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create methods on the server to hide the delegate</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/HideDelegate2.svg" alt="HideDelegate2" width="169" height="445">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Remove Middle Man</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/RemuveMiddleMan1.svg" alt="RemuveMiddleMan1" width="169" height="445">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A class is doing too much simple delegation</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Get the client to call the delegate directly</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/RemuveMiddleMan2.svg" alt="RemuveMiddleMan2" width="364" height="269">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Change Unidirectional Association to Bidirectional</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ChangeUnidirectionalAssociationBidirectional1.svg" alt="ChangeUnidirectionalAssociationBidirectional1" width="296" height="93">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have two classes that need to use each other’s features, but there is only a one-way link.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Add back pointers, and change modifiers to update both sets</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ChangeUnidirectionalAssociationBidirectional2.svg" alt="ChangeUnidirectionalAssociationBidirectional2" width="296" height="93">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Change Bidirectional Association to Unidirectional</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ChangeBidirectionalAssociationUnidirectional1.svg" alt="ChangeBidirectionalAssociationUnidirectional1" width="296" height="93">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: [red]# You have a two-way association but one class no longer needs features from the other#</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Drop the unneeded end of the association</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ChangeBidirectionalAssociationUnidirectional2.svg" alt="ChangeBidirectionalAssociationUnidirectional2" width="296" height="93">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="reparto-de-responsabilidades">Reparto de Responsabilidades</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Move Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/moveMethod1.svg" alt="moveMethod1" width="253" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A method is, or will be, using or used by more features of another class than the class on which it is defined.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a new method with a similar body in the class it uses most. Either turn the old method into a simple delegation, or remove it altogether.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/moveMethod2.svg" alt="moveMethod2" width="253" height="94">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Move Field</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/moveField1.svg" alt="moveField1" width="244" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A field is, or will be, used by another class more than the class on which it is defined.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a new field in the target class, and change all its users</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/moveField2.svg" alt="moveField2" width="244" height="94">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Inline Class</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/InlineClass1bis.svg" alt="InlineClass1bis" width="676" height="157">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A class isn’t doing very much.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Move all its features into another class and delete it.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/InlineClass1.svg" alt="InlineClass1" width="225" height="159">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Extract Class</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ExtractClass1.svg" alt="ExtractClass1" width="225" height="159">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have one class doing work that should be done by two</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a new class and move the relevant fields and methods from the old class into the new class.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ExtractClass2.svg" alt="ExtractClass2" width="688" height="157">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Type Code with Class</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ReplaceTypeCode1.svg" alt="ReplaceTypeCode1" width="157" height="181">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A class has a numeric type code that does not affect its behavior</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace the number with a new class</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReplaceTypeCode2.svg" alt="ReplaceTypeCode2" width="172" height="293">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Array with Object</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> <span class="type">[]</span> row = <span class="keyword">new</span> <span class="predefined-type">String</span>[<span class="integer">3</span>];
row [<span class="integer">0</span>] =<span class="string"><span class="delimiter">&quot;</span><span class="content">Liverpool</span><span class="delimiter">&quot;</span></span>;
row [<span class="integer">1</span>] =<span class="string"><span class="delimiter">&quot;</span><span class="content">15</span><span class="delimiter">&quot;</span></span>;</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have an array in which certain elements mean different things.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace the array with an object that has a field for each element</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Performance row = <span class="keyword">new</span> Performance ();
row.setName (<span class="string"><span class="delimiter">&quot;</span><span class="content">Liverpool</span><span class="delimiter">&quot;</span></span>);
row.setWins(<span class="string"><span class="delimiter">&quot;</span><span class="content">15</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Record with Data Class</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"></code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You need to interface with a record structure in a traditional programming environment.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Make a dumb data object for the record.</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"></code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Introduce Parameter Object</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/InroduceParameterObject1.svg" alt="InroduceParameterObject1" width="378" height="137">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a group of parameters that naturally go together</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Replace them with an object.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/InroduceParameterObject2.svg" alt="InroduceParameterObject2" width="288" height="137">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Replace Data Value with Object</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ReplaceDataValue1.svg" alt="ReplaceDataValue1" width="180" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a data item that needs additional data or behavior</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Turn the data item into an object.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ReplaceDataValue2.svg" alt="ReplaceDataValue2" width="272" height="115">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Change Value to Reference</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ChangeValueReference1.svg" alt="ChangeValueReference1" width="258" height="115">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a class with many equal instances that you want to replace with a single object</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Turn the object into a reference object.</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ChangeValueReference2.svg" alt="ChangeValueReference2" width="306" height="115">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Change Reference to Value</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/ChangeReferenceValue1.svg" alt="ChangeReferenceValue1" width="330" height="115">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have a reference object that is small, immutable, and awkward to manage</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Turn it into a value object</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ChangeReferenceValue2.svg" alt="ChangeReferenceValue2" width="282" height="115">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="bibliotecas-gui">Bibliotecas &amp; GUI</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Introduce Foreign Method</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Date</span> newStart =<span class="keyword">new</span> <span class="predefined-type">Date</span> (previousEnd.getYear(),
              previousEnd.getMonth(), previousEnd.getDate() +<span class="integer">1</span>);</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A server class you are using needs an additional method, but you can’t modify the class.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a method in the client class with an instance of the server class as its first argument</span></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Date</span> newStart =nexDay(previousEnd);

<span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">Date</span> nextDay(<span class="predefined-type">Date</span> arg) {
    <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">Date</span> (arg.getYear(),arg.getMonth(),arg.getDate() +<span class="integer">1</span>);
    }</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Introduce Local Extension</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/IntroduceLocalExtension1.svg" alt="IntroduceLocalExtension1" width="193" height="94">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">A server class you are using needs several additional methods, but you can’t modify the class.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Create a new class that contains these extra methods. Make this extension class a subclass or a wrapper of the original</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/IntroduceLocalExtension2.svg" alt="IntroduceLocalExtension2" width="157" height="208">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><span class="blue">Duplicate Observed Data</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/DuplicateObservedData1.svg" alt="DuplicateObservedData1" width="238" height="245">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Motivation: <span class="red">You have domain data available only in a GUI control, and domain methods need access.</span></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="ulist">
<ul>
<li>
<p>Mechanics: <span class="green">Copy the data to a domain object. Set up an observer to synchronize the two pieces of data</span></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DuplicateObservedData2.svg" alt="DuplicateObservedData2" width="397" height="445">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="granularidad-del-refactoring">Granularidad del Refactoring</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 45%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><em>Característica</em></th>
<th class="tableblock halign-left valign-top"><strong class="blue"><em>Refactoring</em> de Catálogo</strong></th>
<th class="tableblock halign-left valign-top"><strong class="blue"><em>Refactoring</em> en Grande</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Precisión</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Alto</strong>, añadir un parámetro, &#8230;&#8203;</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Baja</strong>, desenmarañar una jerarquía de herencia, &#8230;&#8203;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Duración</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Minutos</strong>, &#8230;&#8203; hora</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Meses</strong>&#8230;&#8203;, años, todos los días un poquito!!!</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Progreso</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Visible</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Difuso</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Participante</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Individual</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Equipo coordinado</strong> con un mismo objetivo de diseño, <strong class="red">evitando pisar lo barrido!!!</strong></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Sensación</em></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Satisfacción instantánea</strong></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><strong class="blue">Vivir tranquilo, no grandes logros</strong></p>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" colspan="2"><div class="content"><div class="paragraph">
<p><em>Ejemplo de refactoring en grande</em></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><span class="red"><strong>Falta de cohesión</strong>, mezclando el modelo y la vista de presentación</span></p>
<div class="ulist">
<ul>
<li>
<p><em>Trato, clase base de la jerarquía</em></p>
</li>
<li>
<p><em>Trato activo y pasivo, con estilo de presentación simple</em></p>
</li>
<li>
<p><em>Trato activo y pasivo tabulares, con estilo de presentación tabular</em></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/Deal1.jpg" alt="Deal1">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/Deal2.jpg" alt="Deal2">
</div>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/Deal3.jpg" alt="Deal3">
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/Deal4.jpg" alt="Deal4">
</div>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/Deal5.jpg" alt="Deal5">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="ejemplo-movies">Ejemplo movies</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="versión-1">Versión 1.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer” - Método “statement()”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies1.svg" alt="movies1" width="360" height="733">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Método largo &#8658; más de 15 líneas</p>
<div class="ulist">
<ul>
<li>
<p>Mal reparto de responsabilidades &#8658; Falta de Cohesión</p>
</li>
<li>
<p>Imposible reutilizar para otro formato (HTML) &#8658; Inmóvil</p>
<div class="ulist">
<ul>
<li>
<p>copy+paste &#8658; DRY</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Cambio de política de coste y puntos &#8658; Viscoso</p>
<div class="ulist">
<ul>
<li>
<p>copy+paste &#8658; multiplica y complica el mantenimiento</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Extraer Método &#8658; switch y código dependiente en método “amountFor” de clase Customer</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v01">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v01">Prueba</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-2">Versión 2.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer“ - Método “amountFor()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies2.svg" alt="movies2" width="360" height="754">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Malos nombres &#8658; “each” y “thisAmount”</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Renombrar variable &#8658; “rental” y “result”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v02">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v02">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-3">Versión 3.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer“ - Método  “amountFor()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Envidia de características &#8658; get(), get(), … desde el servidor</p>
</li>
<li>
<p>Clase de Datos &#8658; get(), get(), … en el cliente</p>
</li>
<li>
<p>Experto en Información &#8658; la clase responsable es la que tiene la
información</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Mover método &#8658; método “getCharge” a clase “Rental</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v03">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v03">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-4">Versión 4.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer“ – Método “amountFor()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies4.svg" alt="movies4" width="360" height="776">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>“Innecesaria descomposición”: método privado sin justificación</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Método en línea &#8658; eliminar “amountFor”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v04">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v04">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-5">Versión 5.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer“ – Método “statement()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies5.svg" alt="movies5" width="360" height="755">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Variable temporal innecesaria &#8658; “thisAmount”</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Reemplazar Temporal por Consulta &#8658; “each.getCharge()”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v05">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v05">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-6">Versión 6.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer“ – Método “statement()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Método largo &#8658; más de 15 líneas</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Extraer método &#8658; método “getFrequentRenterPoints()“ a clase “Rental”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v06">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v06">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-7">Versión 7.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer“ – Método “statement()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies7.svg" alt="movies7" width="360" height="776">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Variable temporal innecesaria &#8658; “totalAmount”</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Reemplazar Temporal por Consulta &#8658; “this.getTotalCharge()”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v07">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v07">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-8">Versión 8.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Customer“ – Método “statement()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies8.svg" alt="movies8" width="360" height="797">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Variable temporal innecesaria &#8658; “frequentRenterPoints”</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Reemplazar Temporal por Consulta &#8658; “this.getTotalFrequentRenterPoints()”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v08">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v08">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-9">Versión 9.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Rental“ – Método “getCharge()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies9.svg" alt="movies9" width="360" height="819">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Experto en la Información &#8658; la mayor parte de la información es de Movie</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Mover Método &#8658; método “getCharge()” a clase “Movie”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v09">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v09">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-10">Versión 10.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Rental“ – Método “getFrequentRenterPoints()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies10.svg" alt="movies10" width="360" height="840">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Experto en la Información &#8658; la mayor parte de la información es de Movie</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Mover Método &#8658; método “getFrequentRenterPoints()” a clase “Movie”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v10">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v10">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-11">Versión 11.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Movie“ – Método  “getCharge()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies11.svg" alt="movies11" width="432" height="862">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*Reemplazar Código de Tipo con Estrategia/Estado (inyección de dependencias) &#8658; Auto-encapsular campo &#8658; “priceCode”</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v11">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v11">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-12">Versión 12.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Movie“ – Método “getCharge()“</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Reemplazar Código de Tipo con Estrategia/Estado (inyección de dependencias) &#8658; Añadir nuevas clases &#8658; “Price”, “ChildrenPrice”, &#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v12">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v12">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-13">Versión 13.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Movie” - Atributo “priceCode”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies13.svg" alt="movies13" width="1041" height="862">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Reemplazar Código de Tipo con Estrategia/Estado (inyección de dependencias) &#8658; Sustituir atributo: “int priceCode” por “Price price”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v13">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v13">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-14">Versión 14.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Movie” - método “getCharge()”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies14.svg" alt="movies14" width="627" height="1112">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Reemplazar Código de Tipo con Estrategia/Estado (inyección de dependencias) &#8658; Mover método: método “getCharge()” a Clase “Price”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v14">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v14">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-15">Versión 15.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Price” - método “getCharge()”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies15.svg" alt="movies15" width="627" height="1155">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*Reemplazar Condicional con Polimorfismo &#8658; Redefinir método “getCharge()” en clases derivadas</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v15">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v15">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-16">Versión 16.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Price” - método “getFrequentRenterPoints()”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies16.svg" alt="movies16" width="1035" height="1177">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>*Reemplazar Condicional con Polimorfismo &#8658; Redefinir métod“getFrequentRenterPoints()” en clases derivadas</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v16">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v16">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-17">Versión 17.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “CustomerTest” - métodos de prueba con Tipo/Código</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies17.svg" alt="movies17" width="1134" height="1220">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
</li>
<li>
<p>Ocultar campo: añadir métodos “childrens()”, “regular()” y “newRelease()” en clase “MovieBuilder”</p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v17">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v17">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-18">Versión 18.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “CustomerTest” - métodos de prueba con Tipo/Código</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Ocultar campo: desde “CustomerTest” llamar a métodos “childrens()”, “regular()” y “newRelease()” de clase “MovieBuilder”</p>
</li>
<li>
<p>Sustituir campo: atributo “priceCode” por “Price” en clase “MovieBuilder”</p>
</li>
<li>
<p>Sustituir campo: atributo “priceCode” por “Price” en clase “Movie”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v18">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v18">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-19">Versión 19.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Clase “Price” - método “getPriceCode()”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Sentencia Alternativa Múltiple &#8658; el comportamiento depende de un tipo/código/&#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Eliminar método: “getPriceCode()” de clases “Price” y “Movie”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v19">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v19">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-20">Versión 20.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"><strong>Jerarquía “Price”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies20.svg" alt="movies20" width="1134" height="1198">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><span class="red">Smell code :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Números mágilos &#8658; 2, 1.5, &#8230;&#8203;</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><span class="green">Refactoring :</span></strong></p>
<div class="ulist">
<ul>
<li>
<p>Añadir atributo: “CHARGE”, “DAYS_RENTER_THRESHOLD”, &#8230;&#8203; en jerarquía “Price”</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v20">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v20">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="versión-21">Versión 21.</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/movies21.svg" alt="movies21" width="1170" height="1242">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/main/java/usantatecla/movies/v21">Producción</a></p>
</li>
<li>
<p><a href="https://github.com/USantaTecla-tech-java/movies/tree/main/src/test/java/usantatecla/movies/v21">Pruebas</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="sintesis"><strong>Sintesis</strong></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="bibliografía"><strong>Bibliografía</strong></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Obra, Autor y Editor</th>
<th class="tableblock halign-left valign-top">Portada</th>
<th class="tableblock halign-left valign-top">Obra, Autor y Editor</th>
<th class="tableblock halign-left valign-top">Portada</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Refactoring (Pearson Addison-Wesley Signature Series)</p>
<div class="ulist">
<ul>
<li>
<p><strong>Fowler Martin</strong></p>
</li>
<li>
<p>Financial Times Prentice Hall; Edición: 01 (28 de noviembre de 2018)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/Refectoring.jpg" alt="height32"></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Test Driven Development. By Example (The Addison-Wesley Signature Series</p>
<div class="ulist">
<ul>
<li>
<p><strong>Beck Kent</strong></p>
</li>
<li>
<p>Addison Wesley; Edición: 01 (8 de noviembre de 2002)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/TestDrivenDevelopment.jpg" alt="height32"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Extreme Programming Explained: Embrace Change: Embracing Change</p>
<div class="ulist">
<ul>
<li>
<p><strong>Kent Beck</strong>, <strong>Cynthia Andres</strong></p>
</li>
<li>
<p>Addison-Wesley Educational Publishers Inc; Edición: 2nd edition (16 de noviembre de 2004)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/Extreme.jpg" alt="height32"></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Planning Extreme Programming (The Xp Series)</p>
<div class="ulist">
<ul>
<li>
<p><strong>Beck Kent</strong>,  <strong>Fowler Martin</strong></p>
</li>
<li>
<p>Addison Wesley; Edición: 01 (16 de octubre de 2000)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/Planning.jpg" alt="height32"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Scrum and XP from the Trenches (Enterprise Software Development)</p>
<div class="ulist">
<ul>
<li>
<p><strong>Henrik Kniberg</strong></p>
</li>
<li>
<p>Lulu.com; Edición: 1 (4 de octubre de 2007)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/Scrum.jpg" alt="height32"></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Scrum: El revolucionario método para trabajar el doble en la mitad de tiempo</p>
<div class="ulist">
<ul>
<li>
<p><strong>Jeff Sutherland</strong>,</p>
</li>
<li>
<p>Editorial Ariel (20 de enero de 2015)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/ScrumElRevolucionario.jpg" alt="height32"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Refactoring Databases: Evolutionary Database Design</p>
<div class="ulist">
<ul>
<li>
<p><strong>Scott J Ambler</strong>, <strong>Pramod J. Sadalage</strong></p>
</li>
<li>
<p>Addison-Wesley Professional; Edición: 1 (13 de marzo de 2006)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/RefactoringDatabases.jpg" alt="height32"></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>User Stories Applied: For Agile Software Development</p>
<div class="ulist">
<ul>
<li>
<p><strong>Cohn, M.</strong></p>
</li>
<li>
<p>Addison Wesley, 2004</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/UserStoriesAppliedForAgileSoftwareDevelopment.jpg" alt="UserStoriesAppliedForAgileSoftwareDevelopment"></span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Scrum y XP desde las trincheras</p>
<div class="ulist">
<ul>
<li>
<p><strong>Henrik Kniberg</strong>. Prólogos de <strong>Jeff Sutherland</strong> y <strong>Mike Cohn</strong></p>
</li>
<li>
<p>proyectalis.com</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/ScrumXPTrenches.jpg" alt="ScrumXPTrenches"></span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Diseño Ágil con TDD</p>
<div class="ulist">
<ul>
<li>
<p><strong>Carlos Blé Jurado</strong></p>
</li>
<li>
<p>Lulu.com</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="paragraph">
<p><span class="image"><img src="images/DisenoAgilconTDD.jpg" alt="DisenoAgilconTDD"></span></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="ponente">Ponente</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 30%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><strong><em>Luis Fernández Muñoz</em></strong></p>
<div class="ulist">
<ul>
<li>
<p><em>Formador/Consultor</em></p>
</li>
<li>
<p><a href="https://es.linkedin.com/in/luisfernandezmunyoz"><em>Linkedin</em></a></p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-center valign-middle"><div class="content"><div class="imageblock">
<div class="content">
<img src="images/setillo.jpg" alt="setillo">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><em>Doctor en Inteligencia Artificial por la UPM</em></p>
</li>
<li>
<p><em>Ingeniero en Informática por la UMA</em></p>
</li>
<li>
<p><em>Diplomado en Informática por la UPM</em></p>
</li>
<li>
<p><em>Profesor Titular de ETSISI de la UPM</em></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.0.1<br>
Last updated 2022-10-16 16:53:27 +0200
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<script>
                let speed = 50;
                
                function typeWriter(v) {
                  let i = v.getAttribute("typewriter-index")
                  let txt = v.getAttribute("typewriter-original")
                  
                  if (i < txt.length) {
                    v.getElementsByTagName("P")[0].innerHTML += txt.charAt(i);
                    i++;
                    v.setAttribute("typewriter-index", i)                        
                  }else{
                    if( ++i > txt.length+30 ){
                        v.setAttribute("typewriter-index", 0)
                        v.getElementsByTagName("P")[0].innerHTML = ''
                    }
                  }
                }
                
                function typeWriterAll(){
                    [].forEach.call(document.getElementsByClassName('typewriter'), function(v,i,a) {
                        typeWriter(v)
                    })
                    setTimeout(typeWriterAll, speed);
                }
                                    
                [].forEach.call(document.getElementsByClassName('typewriter'), function(v,i,a) {
                    v.setAttribute("typewriter-original", v.innerText)
                    v.setAttribute("typewriter-index", 0)
                    v.getElementsByTagName("P")[0].innerHTML = ''
                })
                
                setTimeout(typeWriterAll, speed);
                
                </script>
</html>